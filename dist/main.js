(()=>{"use strict";const t=(()=>{const t=document.querySelector(".P1"),e=document.querySelector(".P2"),a=(a,s,o)=>{const r="P1"===a?t:e;r.classList.add(s),o.forEach((t=>r.appendChild((t=>{const e=document.createElement("div");return e.classList.add("cell"),e.setAttribute("data-coords",`${t.coords.x} ${t.coords.y}`),t.hasShip&&e.classList.add("ship"),(t=>{t.addEventListener("click",(()=>{const e=t.getAttribute("data-coords").split(" "),a={x:+e[0],y:+e[1]};i.fireAttack(a)}))})(e),e})(t))))};return{init:()=>{a()},renderGameboard:a,cellHit:t=>{const e=`${t.x} ${t.y}`;document.querySelector(`.active > [data-coords="${e}"]`).classList.add("hit")},toggleActiveBoard:()=>{t.classList.toggle("active"),e.classList.toggle("active")}}})(),e=e=>{const a=[],s=(t=>{const e=[];for(let a=0;a<t*t;a++)e.push({coords:{x:a%t,y:Math.floor(a/t)},hasShip:"",isShot:!1});return e})(e),o=t=>s[t.x+t.y*e];return{at:o,isValidAttack:t=>!o(t).isShot,receiveAttack:e=>{const s=o(e);if(s.isShot=!0,t.cellHit(e),s.hasShip){const t=a.find((t=>t.name===s.hasShip));t.hit(),t.isSunk()&&console.log(t.name)}},setShip:(t,e,s="x")=>{a.push(t);let i=e;for(let e=0;e<t.getLength();e++)o(i).hasShip=t.name,"x"===s?i.x++:i.y++},getBoard:()=>s}},a=t=>({name:t,gameboard:e(10),isActive:!1}),s=(t,e)=>{const a=t;let s=0;return{name:e,getLength:()=>a,getHits:()=>s,hit:()=>{s++},isSunk:()=>a===s}},o=t=>{const e=t.filter((t=>!t.isShot));return e[Math.floor(Math.random()*e.length)].coords},i=(()=>{const e=a("p1"),i=a("p2"),r=()=>e.isActive?e:i,c=()=>{e.isActive=!e.isActive,i.isActive=!i.isActive,t.toggleActiveBoard()};return{init:()=>{(()=>{let a=[s(4,"a"),s(2,"b")];e.gameboard.setShip(a[0],{x:1,y:2},"x"),e.gameboard.setShip(a[1],{x:2,y:5},"y"),t.renderGameboard("P1",e.name,e.gameboard.getBoard()),e.isActive=!0})(),i.ships=[s(3,"enemya"),s(2,"enemyb")],i.gameboard.setShip(i.ships[0],{x:1,y:1},"x"),i.gameboard.setShip(i.ships[1],{x:2,y:5},"y"),t.renderGameboard("P2",i.name,i.gameboard.getBoard())},fireAttack:t=>{const e=r();e.gameboard.isValidAttack(t)&&(e.gameboard.receiveAttack(t),(()=>{c();const t=o(i.gameboard.getBoard());console.log(t),r().gameboard.receiveAttack(t),c()})())}}})();i.init()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFVBQVVELFlBQzlDTixRQUFRQyxJQUFJakMsR0FDWmtELElBQWVYLFVBQVViLGNBQWMxQixHQUN2Q21ELEtBUkFHLE9BbENtQixHQ0h2QixVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9Nb2R1bGVzL1VJLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvRmFjdG9yaWVzL0dhbWVib2FyZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL0ZhY3Rvcmllcy9QbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9GYWN0b3JpZXMvU2hpcC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL01vZHVsZXMvQUlQbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9Nb2R1bGVzL0dhbWVDb250cm9sbGVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdhbWVDb250cm9sbGVyIGZyb20gXCIuL0dhbWVDb250cm9sbGVyXCI7XG5cblxuY29uc3QgVUkgPSAoKCkgPT4ge1xuICBjb25zdCAkcDFHYW1lYm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuUDEnKTtcbiAgY29uc3QgJHAyR2FtZWJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlAyJyk7XG4gIFxuICBjb25zdCBuZXdDZWxsRE9NID0gKGNlbGwpID0+IHtcbiAgICAgIGNvbnN0ICRjZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAkY2VsbC5jbGFzc0xpc3QuYWRkKCdjZWxsJyk7XG4gICAgICAkY2VsbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY29vcmRzJywgYCR7Y2VsbC5jb29yZHMueH0gJHtjZWxsLmNvb3Jkcy55fWApO1xuICAgICAgaWYgKGNlbGwuaGFzU2hpcCkgJGNlbGwuY2xhc3NMaXN0LmFkZCgnc2hpcCcpO1xuICAgICAgYWRkQ2VsbExpc3RlbmVyKCRjZWxsKTtcbiAgICAgIHJldHVybiAkY2VsbDtcbiAgfVxuXG4gIGNvbnN0IGFkZENlbGxMaXN0ZW5lciA9ICgkY2VsbCkgPT4ge1xuICAgICRjZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29vcmRzQXJyYXkgPSAkY2VsbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29vcmRzJykuc3BsaXQoJyAnKTtcbiAgICAgIGNvbnN0IGNvb3JkcyA9IHt4OiArY29vcmRzQXJyYXlbMF0sIHk6ICtjb29yZHNBcnJheVsxXX07XG4gICAgICBHYW1lQ29udHJvbGxlci5maXJlQXR0YWNrKGNvb3Jkcyk7XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBjZWxsSGl0ID0gKGNvb3JkcykgPT4ge1xuICAgIGNvbnN0IGVuY29kZWRDb29yZHMgPSBgJHtjb29yZHMueH0gJHtjb29yZHMueX1gO1xuICAgIGNvbnN0ICRjZWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmFjdGl2ZSA+IFtkYXRhLWNvb3Jkcz1cIiR7ZW5jb2RlZENvb3Jkc31cIl1gKTtcbiAgICAkY2VsbC5jbGFzc0xpc3QuYWRkKCdoaXQnKTtcbiAgfVxuXG4gIGNvbnN0IHRvZ2dsZUFjdGl2ZUJvYXJkID0gKCkgPT4ge1xuICAgICRwMUdhbWVib2FyZC5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcbiAgICAkcDJHYW1lYm9hcmQuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG4gIH1cblxuICBjb25zdCByZW5kZXJHYW1lYm9hcmQgPSAocGxheWVyLCBwbGF5ZXJOYW1lLCBib2FyZCkgPT4ge1xuICAgIGNvbnN0ICRib2FyZCA9IHBsYXllciA9PT0gJ1AxJyA/ICRwMUdhbWVib2FyZCA6ICRwMkdhbWVib2FyZDtcbiAgICAkYm9hcmQuY2xhc3NMaXN0LmFkZChwbGF5ZXJOYW1lKTtcbiAgICBib2FyZC5mb3JFYWNoKGNlbGwgPT4gJGJvYXJkLmFwcGVuZENoaWxkKG5ld0NlbGxET00oY2VsbCkpKTtcbiAgfVxuXG4gIGNvbnN0IGluaXQgPSAoKSA9PiB7XG4gICAgcmVuZGVyR2FtZWJvYXJkKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGluaXQsXG4gICAgcmVuZGVyR2FtZWJvYXJkLFxuICAgIGNlbGxIaXQsXG4gICAgdG9nZ2xlQWN0aXZlQm9hcmQsXG4gIH07XG5cbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IFVJOyIsImltcG9ydCBVSSBmcm9tIFwiLi4vTW9kdWxlcy9VSVwiO1xuXG5jb25zdCBHYW1lYm9hcmQgPSAoc2l6ZSkgPT4ge1xuXG4gIGNvbnN0IHNoaXBzID0gW107XG5cbiAgY29uc3QgY2VsbCA9ICh4LCB5KSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvb3Jkczoge3gsIHl9LFxuICAgICAgaGFzU2hpcDogJycsXG4gICAgICBpc1Nob3Q6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IF9tYWtlR3JpZCA9IChzaXplKSA9PiB7XG4gICAgY29uc3QgYXJyID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplICogc2l6ZTsgaSsrKSB7XG4gICAgICBhcnIucHVzaChjZWxsKGkgJSBzaXplLCBNYXRoLmZsb29yKGkgLyBzaXplKSkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9XG5cbiAgY29uc3QgYm9hcmQgPSBfbWFrZUdyaWQoc2l6ZSk7XG4gIGNvbnN0IGF0ID0gKGNvb3JkcykgPT4gYm9hcmRbY29vcmRzLnggKyBjb29yZHMueSAqIHNpemVdO1xuXG4gIGNvbnN0IGlzVmFsaWRBdHRhY2sgPSAoY29vcmRzKSA9PiB7XG4gICAgcmV0dXJuICFhdChjb29yZHMpLmlzU2hvdDtcbiAgfVxuXG4gIGNvbnN0IHJlY2VpdmVBdHRhY2sgPSAoY29vcmRzKSA9PiB7XG4gICAgY29uc3QgY2VsbCA9IGF0KGNvb3Jkcyk7XG4gICAgY2VsbC5pc1Nob3QgPSB0cnVlO1xuICAgIFVJLmNlbGxIaXQoY29vcmRzKTtcbiAgICBpZiAoY2VsbC5oYXNTaGlwKSB7XG4gICAgICBjb25zdCBzaGlwID0gc2hpcHMuZmluZChzaGlwID0+IHNoaXAubmFtZSA9PT0gY2VsbC5oYXNTaGlwKTtcbiAgICAgIHNoaXAuaGl0KCk7XG4gICAgICBpZiAoc2hpcC5pc1N1bmsoKSkgY29uc29sZS5sb2coc2hpcC5uYW1lKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBzZXRTaGlwID0gKHNoaXAsIGNvb3JkcywgYXhpcyA9ICd4JykgPT4ge1xuICAgIHNoaXBzLnB1c2goc2hpcCk7XG4gICAgbGV0IG5ld0Nvb3JkcyA9IGNvb3JkcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAuZ2V0TGVuZ3RoKCk7IGkrKykge1xuICAgICAgYXQobmV3Q29vcmRzKS5oYXNTaGlwID0gc2hpcC5uYW1lO1xuICAgICAgYXhpcyA9PT0gJ3gnID8gbmV3Q29vcmRzLngrKzogbmV3Q29vcmRzLnkrKztcbiAgICB9XG4gIH1cblxuICBjb25zdCBnZXRCb2FyZCA9ICgpID0+IGJvYXJkO1xuXG4gIHJldHVybiB7XG4gICAgYXQsXG4gICAgaXNWYWxpZEF0dGFjayxcbiAgICByZWNlaXZlQXR0YWNrLFxuICAgIHNldFNoaXAsXG4gICAgZ2V0Qm9hcmQsXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdhbWVib2FyZDsiLCJpbXBvcnQgR2FtZWJvYXJkIGZyb20gXCIuL0dhbWVib2FyZFwiXG5cbmNvbnN0IFBsYXllciA9IChuYW1lKSA9PiB7XG4gIHJldHVybiB7XG4gICAgbmFtZSxcbiAgICBnYW1lYm9hcmQ6IEdhbWVib2FyZCgxMCksXG4gICAgaXNBY3RpdmU6IGZhbHNlLFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBQbGF5ZXI7IiwiY29uc3QgU2hpcCA9IChsZW5ndGgsIG5hbWUpID0+IHtcbiAgY29uc3Qgc2hpcExlbmd0aCA9IGxlbmd0aDtcbiAgbGV0IGhpdENvdW50ID0gMDtcblxuICAvLyBHZXR0ZXJzXG4gIGNvbnN0IGdldExlbmd0aCA9ICgpID0+IHNoaXBMZW5ndGg7XG4gIGNvbnN0IGdldEhpdHMgPSAoKSA9PiBoaXRDb3VudDtcblxuICBjb25zdCBoaXQgPSAoKSA9PiB7XG4gICAgaGl0Q291bnQrKztcbiAgfVxuXG4gIGNvbnN0IGlzU3VuayA9ICgpID0+IHtcbiAgICByZXR1cm4gc2hpcExlbmd0aCA9PT0gaGl0Q291bnQ7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG5hbWUsXG4gICAgZ2V0TGVuZ3RoLFxuICAgIGdldEhpdHMsXG4gICAgaGl0LFxuICAgIGlzU3VuayxcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2hpcDsiLCJjb25zdCBBSSA9ICgoKSA9PiB7XG5cbiAgY29uc3QgZ2V0Q29vcmRzID0gKGJvYXJkKSA9PiB7XG4gICAgY29uc3QgdmFsaWRDZWxscyA9IGJvYXJkLmZpbHRlcihjZWxsID0+ICFjZWxsLmlzU2hvdCk7XG4gICAgY29uc3QgY29vcmRzID0gdmFsaWRDZWxsc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB2YWxpZENlbGxzLmxlbmd0aCldLmNvb3JkcztcbiAgICByZXR1cm4gY29vcmRzO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgZ2V0Q29vcmRzLFxuICB9O1xuXG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBBSTsiLCJpbXBvcnQgUGxheWVyIGZyb20gXCIuLi9GYWN0b3JpZXMvUGxheWVyXCJcbmltcG9ydCBTaGlwIGZyb20gXCIuLi9GYWN0b3JpZXMvU2hpcFwiO1xuaW1wb3J0IFVJIGZyb20gXCIuL1VJXCI7XG5pbXBvcnQgQUkgZnJvbSBcIi4vQUlQbGF5ZXJcIjtcblxuY29uc3QgR2FtZUNvbnRyb2xsZXIgPSAoKCkgPT4ge1xuXG4gIGNvbnN0IHBsYXllcjEgPSBQbGF5ZXIoJ3AxJyk7XG4gIGNvbnN0IHBsYXllcjIgPSBQbGF5ZXIoJ3AyJyk7XG5cbiAgY29uc3QgYWN0aXZlUGxheWVyID0gKCkgPT4ge1xuICAgIHJldHVybiBwbGF5ZXIxLmlzQWN0aXZlID8gcGxheWVyMTogcGxheWVyMjtcbiAgfVxuXG4gIGNvbnN0IHRvZ2dsZUFjdGl2ZVBsYXllciA9ICgpID0+IHtcbiAgICBwbGF5ZXIxLmlzQWN0aXZlID0gIXBsYXllcjEuaXNBY3RpdmU7XG4gICAgcGxheWVyMi5pc0FjdGl2ZSA9ICFwbGF5ZXIyLmlzQWN0aXZlO1xuICAgIFVJLnRvZ2dsZUFjdGl2ZUJvYXJkKCk7XG4gIH1cblxuICBjb25zdCBpbml0UGxheWVyMSA9ICgpID0+IHtcbiAgICBsZXQgc2hpcHMgPSBbU2hpcCg0LCAnYScpLCBTaGlwKDIsICdiJyldO1xuICAgIHBsYXllcjEuZ2FtZWJvYXJkLnNldFNoaXAoc2hpcHNbMF0sIHt4OiAxLCB5OiAyfSwgJ3gnKTtcbiAgICBwbGF5ZXIxLmdhbWVib2FyZC5zZXRTaGlwKHNoaXBzWzFdLCB7eDogMiwgeTogNX0sICd5Jyk7XG4gICAgVUkucmVuZGVyR2FtZWJvYXJkKCdQMScsIHBsYXllcjEubmFtZSwgcGxheWVyMS5nYW1lYm9hcmQuZ2V0Qm9hcmQoKSk7XG4gICAgcGxheWVyMS5pc0FjdGl2ZSA9IHRydWU7XG4gIH1cblxuICBjb25zdCBpbml0UGxheWVyMiA9ICgpID0+IHtcbiAgICBwbGF5ZXIyLnNoaXBzID0gW1NoaXAoMywgJ2VuZW15YScpLCBTaGlwKDIsICdlbmVteWInKV07XG4gICAgcGxheWVyMi5nYW1lYm9hcmQuc2V0U2hpcChwbGF5ZXIyLnNoaXBzWzBdLCB7eDogMSwgeTogMX0sICd4Jyk7XG4gICAgcGxheWVyMi5nYW1lYm9hcmQuc2V0U2hpcChwbGF5ZXIyLnNoaXBzWzFdLCB7eDogMiwgeTogNX0sICd5Jyk7XG4gICAgVUkucmVuZGVyR2FtZWJvYXJkKCdQMicsIHBsYXllcjIubmFtZSwgcGxheWVyMi5nYW1lYm9hcmQuZ2V0Qm9hcmQoKSk7XG4gIH1cblxuICBjb25zdCBmaXJlQXR0YWNrID0gKGNvb3JkcykgPT4ge1xuICAgIGNvbnN0IHBsYXllciA9IGFjdGl2ZVBsYXllcigpO1xuICAgIGlmICghcGxheWVyLmdhbWVib2FyZC5pc1ZhbGlkQXR0YWNrKGNvb3JkcykpIHJldHVybjtcbiAgICBwbGF5ZXIuZ2FtZWJvYXJkLnJlY2VpdmVBdHRhY2soY29vcmRzKTtcbiAgICBwbGF5Um91bmQoKTtcbiAgfVxuXG4gIGNvbnN0IHBsYXlSb3VuZCA9ICgpID0+IHtcbiAgICB0b2dnbGVBY3RpdmVQbGF5ZXIoKTtcbiAgICBjb25zdCBjb29yZHMgPSBBSS5nZXRDb29yZHMocGxheWVyMi5nYW1lYm9hcmQuZ2V0Qm9hcmQoKSk7XG4gICAgY29uc29sZS5sb2coY29vcmRzKTtcbiAgICBhY3RpdmVQbGF5ZXIoKS5nYW1lYm9hcmQucmVjZWl2ZUF0dGFjayhjb29yZHMpO1xuICAgIHRvZ2dsZUFjdGl2ZVBsYXllcigpO1xuICB9XG5cbiAgY29uc3QgcGxheUdhbWUgPSAoKSA9PiB7XG4gICAgLy8gcGxheVJvdW5kKCk7XG4gIH1cblxuICBjb25zdCBpbml0ID0gKCkgPT4ge1xuICAgIGluaXRQbGF5ZXIxKCk7XG4gICAgaW5pdFBsYXllcjIoKTtcbiAgICBwbGF5R2FtZSgpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgaW5pdCxcbiAgICBmaXJlQXR0YWNrLFxuICB9O1xuXG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBHYW1lQ29udHJvbGxlcjsiLCJpbXBvcnQgR2FtZUNvbnRyb2xsZXIgZnJvbSBcIi4vTW9kdWxlcy9HYW1lQ29udHJvbGxlclwiO1xuXG5HYW1lQ29udHJvbGxlci5pbml0KCk7Il0sIm5hbWVzIjpbIiRwMUdhbWVib2FyZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIiRwMkdhbWVib2FyZCIsInJlbmRlckdhbWVib2FyZCIsInBsYXllciIsInBsYXllck5hbWUiLCJib2FyZCIsIiRib2FyZCIsImNsYXNzTGlzdCIsImFkZCIsImZvckVhY2giLCJjZWxsIiwiYXBwZW5kQ2hpbGQiLCIkY2VsbCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJjb29yZHMiLCJ4IiwieSIsImhhc1NoaXAiLCJhZGRFdmVudExpc3RlbmVyIiwiY29vcmRzQXJyYXkiLCJnZXRBdHRyaWJ1dGUiLCJzcGxpdCIsImFkZENlbGxMaXN0ZW5lciIsIm5ld0NlbGxET00iLCJpbml0IiwiY2VsbEhpdCIsImVuY29kZWRDb29yZHMiLCJ0b2dnbGVBY3RpdmVCb2FyZCIsInRvZ2dsZSIsInNpemUiLCJzaGlwcyIsImFyciIsImkiLCJwdXNoIiwiTWF0aCIsImZsb29yIiwiaXNTaG90IiwiX21ha2VHcmlkIiwiYXQiLCJpc1ZhbGlkQXR0YWNrIiwicmVjZWl2ZUF0dGFjayIsInNoaXAiLCJmaW5kIiwibmFtZSIsImhpdCIsImlzU3VuayIsImNvbnNvbGUiLCJsb2ciLCJzZXRTaGlwIiwiYXhpcyIsIm5ld0Nvb3JkcyIsImdldExlbmd0aCIsImdldEJvYXJkIiwiZ2FtZWJvYXJkIiwiaXNBY3RpdmUiLCJsZW5ndGgiLCJzaGlwTGVuZ3RoIiwiaGl0Q291bnQiLCJnZXRIaXRzIiwidmFsaWRDZWxscyIsImZpbHRlciIsInJhbmRvbSIsInBsYXllcjEiLCJwbGF5ZXIyIiwiYWN0aXZlUGxheWVyIiwidG9nZ2xlQWN0aXZlUGxheWVyIiwiaW5pdFBsYXllcjEiLCJmaXJlQXR0YWNrIiwicGxheVJvdW5kIl0sInNvdXJjZVJvb3QiOiIifQ==