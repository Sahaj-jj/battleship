(()=>{"use strict";const e=(()=>{const e=document.querySelector(".main"),t=document.querySelector(".modal"),s=document.querySelector(".modal-win");let a="PLAY";const i=e=>{const t=e.split(" ");return{x:+t[0],y:+t[1]}},d=(e,t=null,s=null)=>{const a=document.createElement(e);return t&&t.forEach((e=>a.classList.add(e))),s&&(a.textContent=s),a};return{renderGameboard:(s,n,c,l=!1)=>{a="sample"===n?"PLACE":"PLAY";const h=(s=>{const i=d("div",["container"]);return i.appendChild(d("div",[`${s}`,"board"])),i.appendChild(d("div",["ships-display"])),"PLACE"===a?t.appendChild(i):e.appendChild(i),i})(n);l&&h.firstChild.classList.add("active"),c.forEach((e=>h.firstChild.appendChild((e=>{const t=d("div",["cell"]);return t.setAttribute("data-coords",`${e.coords.x} ${e.coords.y}`),e.hasShip&&t.classList.add("ship"),(e=>{"PLACE"===a?(e.addEventListener("click",(()=>{o.placeShip(i(e.getAttribute("data-coords")))})),e.addEventListener("mouseover",(()=>{o.showShip(i(e.getAttribute("data-coords")))}))):e.addEventListener("click",(()=>{r.playTurn(i(e.getAttribute("data-coords")))}))})(t),t})(e))))},updateShipsDisplay:(e,t,s=-1)=>{const i=document.querySelector(`.${e}`).nextElementSibling;i.textContent="",t.forEach(((e,t)=>{i.appendChild(((e,t=!1)=>{const s=d("div",["ship-container"]);(e.isSunk()||"PLACE"===a&&t)&&s.classList.add("sunk"),s.appendChild(d("div",["ship-name"],e.name));const i=d("div",["ship-body"]);for(let t=0;t<e.getLength();t++)i.appendChild(d("div",["ship-cell"]));return s.appendChild(i),s})(e,t<=s))}))},cellHit:e=>{const t=`${e.x} ${e.y}`;document.querySelector(`.active > [data-coords="${t}"]`).classList.add("hit")},shipSunk:e=>{e.forEach((e=>{document.querySelector(`.active > [data-coords="${e.x} ${e.y}"]`).classList.add("sunk")}))},toggleActiveBoard:()=>{Array.from(e.children).forEach((e=>{e.firstChild.classList.toggle("active")}))},showWinner:e=>{s.textContent=`${e} wins`,s.classList.add("visible")}}})(),t=t=>{let s=[],a=0;const i=(e=>{const t=[];for(let s=0;s<e*e;s++)t.push({coords:{x:s%e,y:Math.floor(s/e)},hasShip:"",isShot:!1});return t})(t),r=e=>i[e.x+e.y*t];return{at:r,isValidAttack:e=>!r(e).isShot,isShipHit:e=>""!==r(e).hasShip,receiveAttack:t=>{const o=r(t);if(o.isShot=!0,e.cellHit(t),o.hasShip){const t=s.find((e=>e.name===o.hasShip));t.hit(),t.isSunk()&&(t=>{a++;const s=i.filter((e=>e.hasShip===t)).map((e=>e.coords));e.shipSunk(s)})(t.name)}},setShip:(e,t,a="x")=>{s.push(e);let i=t;for(let t=0;t<e.getLength();t++)r(i).hasShip=e.name,"x"===a?i.x++:i.y++},isCollisions:e=>{for(const s of e){if(s.x>t-1||s.y>t-1)return!0;if(""!==r(s).hasShip)return!0}return!1},getBoard:()=>i,getShips:()=>s,reset:()=>{s=[];for(const e of i)e.isShot=!1,e.hasShip=""},allShipsSunk:()=>a>=s.length}},s=(e,s)=>({name:e,displayName:s,gameboard:t(10),isActive:!1}),a=(e,t)=>{const s=e;let a=0;return{name:t,getLength:()=>s,getHits:()=>a,hit:()=>{a++},isSunk:()=>a>=s}},i=(()=>{const e=s("AI"),t=[a(5,"Carrier"),a(4,"Battleship"),a(3,"Cruiser"),a(3,"Submarine"),a(2,"Destroyer")];return{getCoords:e=>{const t=e.filter((e=>!e.isShot));return t[Math.floor(Math.random()*t.length)].coords},getAIPlayer:()=>(e.gameboard.setShip(t[0],{x:0,y:0},"x"),e.gameboard.setShip(t[1],{x:9,y:6},"y"),e.gameboard.setShip(t[2],{x:1,y:7},"y"),e.gameboard.setShip(t[3],{x:7,y:1},"x"),e.gameboard.setShip(t[4],{x:4,y:3},"x"),e)}})(),r=(()=>{const t=s("P1","Player"),a=s("P2","Enemy");function r(e){return new Promise((t=>setTimeout(t,e)))}const d=()=>t.isActive?a:t,n=async s=>{const i=d().gameboard;if(i.isValidAttack(s)){if(i.receiveAttack(s),e.updateShipsDisplay(d().name,i.getShips()),i.isShipHit(s)){if(i.allShipsSunk())return void e.showWinner((t.isActive?t:a).displayName)}else await r(300),t.isActive=!t.isActive,a.isActive=!a.isActive,e.toggleActiveBoard();c()}},c=async()=>{a.isActive&&(await r(300*Math.random()+500),n(i.getCoords(d().gameboard.getBoard())))};return{init:()=>{t.isActive=!0,t.gameboard=o.getSamplePlayer().gameboard,e.renderGameboard("P1",t.name,t.gameboard.getBoard()),e.updateShipsDisplay(t.name,t.gameboard.getShips()),a.isActive=!1,a.gameboard=i.getAIPlayer().gameboard,e.renderGameboard("P2",a.name,a.gameboard.getBoard(),!0),e.updateShipsDisplay(a.name,a.gameboard.getShips())},playTurn:n}})(),o=(()=>{const t=s("sample"),i=[a(5,"Carrier"),a(4,"Battleship"),a(3,"Cruiser"),a(3,"Submarine"),a(2,"Destroyer")];let o={shipNum:0,shipCoordsArray:[],axis:"x"};const d=document.querySelector(".modal"),n=document.querySelector("button.play"),c=document.querySelector("button.reset"),l=e=>document.querySelector(`[data-coords="${e.x} ${e.y}"]`),h=e=>{o.shipNum>=i.length||(0!==o.shipCoordsArray.length&&o.shipCoordsArray.forEach((e=>{l(e).classList.remove("temp"),l(e).classList.remove("invalid")})),o.shipCoordsArray=p(e),o.shipCoordsArray.forEach((e=>{l(e).classList.add("temp")})),m()||o.shipCoordsArray.forEach((e=>{l(e).classList.add("invalid")})))},p=e=>{let t=[],s=e;for(let e=0;e<i[o.shipNum].getLength()&&(t.push({x:s.x,y:s.y}),"x"===o.axis?s.x++:s.y++,!(s.x>9||s.y>9));e++);return t},m=()=>!t.gameboard.isCollisions(o.shipCoordsArray)&&o.shipCoordsArray.length===i[o.shipNum].getLength(),u=()=>{t.gameboard.reset(),t.gameboard.getBoard().forEach((e=>{l(e.coords).classList.remove("ship"),l(e.coords).classList.remove("temp")})),Array.from(document.querySelector(".ships-display").children).forEach((e=>e.classList.remove("sunk"))),o={shipNum:0,shipCoordsArray:[],axis:"x"},n.style.display="none"};return{init:()=>{e.renderGameboard("sample",t.name,t.gameboard.getBoard()),e.updateShipsDisplay(t.name,i),document.addEventListener("keyup",(({key:e})=>{"R"!==e&&"r"!==e||(o.axis="x"===o.axis?"y":"x",h(o.shipCoordsArray[0],o.axis))})),n.addEventListener("click",(()=>{d.remove(),r.init()})),c.addEventListener("click",u)},placeShip:s=>{m()&&(t.gameboard.setShip(i[o.shipNum++],s,o.axis),o.shipCoordsArray.forEach((e=>{l(e).classList.add("ship"),l(e).classList.remove("temp")})),e.updateShipsDisplay(t.name,i,o.shipNum-1),o.shipNum===i.length&&(n.style.display="block"))},showShip:h,getSamplePlayer:()=>t}})();o.init()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MUVMLEVBQVUsQ0FDUjNFLFFBQVMsRUFDVDZDLGdCQUFpQixHQUNqQkgsS0FBTSxLQUVSa0MsRUFBWU8sTUFBTUMsUUFBVSxRQXdCOUIsTUFBTyxDQUNMVixLQXBCVyxLQUNYLGtCQUFtQixTQUFVN0YsRUFBTzJCLEtBQU0zQixFQUFPd0UsVUFBVU4sWUFDM0QscUJBQXNCbEUsRUFBTzJCLEtBQU1ULEdBRW5DekMsU0FBU29DLGlCQUFpQixTQUFTLEVBQUcyRixJQUFBQSxNQUN4QixNQUFSQSxHQUF1QixNQUFSQSxJQUNqQlYsRUFBUWpDLEtBQXdCLE1BQWpCaUMsRUFBUWpDLEtBQWUsSUFBSyxJQUMzQ3FDLEVBQVNKLEVBQVE5QixnQkFBZ0IsR0FBSThCLEVBQVFqQyxVQUlqRGtDLEVBQVlsRixpQkFBaUIsU0FBUyxLQUNwQ2xDLEVBQU93SCxTQUNQLFlBR0ZILEVBQWFuRixpQkFBaUIsUUFBU3VELElBS3ZDcUMsVUFwRGlCOUYsSUFDWjBGLE1BQ0xyRyxFQUFPd0UsVUFBVVosUUFBUTFDLEVBQU00RSxFQUFRM0UsV0FBWVIsRUFBUW1GLEVBQVFqQyxNQUNuRWlDLEVBQVE5QixnQkFBZ0J0RSxTQUFRaUIsSUFDOUJzRixFQUFPdEYsR0FBUWYsVUFBVUMsSUFBSSxRQUM3Qm9HLEVBQU90RixHQUFRZixVQUFVdUcsT0FBTyxXQUVsQyxxQkFBc0JuRyxFQUFPMkIsS0FBTVQsRUFBTzRFLEVBQVEzRSxRQUFVLEdBQ3hEMkUsRUFBUTNFLFVBQVlELEVBQU1vRCxTQUM1QnlCLEVBQVlPLE1BQU1DLFFBQVUsV0E0QzlCTCxTQUFBQSxFQUNBUSxnQkF6QnNCLElBQU0xRyxJQXJGYixHQ0ZuQixVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9Nb2R1bGVzL1VJLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvRmFjdG9yaWVzL0dhbWVib2FyZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL0ZhY3Rvcmllcy9QbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9GYWN0b3JpZXMvU2hpcC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL01vZHVsZXMvQUlQbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9Nb2R1bGVzL0dhbWVDb250cm9sbGVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvTW9kdWxlcy9QbGFjZVNoaXBzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdhbWVDb250cm9sbGVyIGZyb20gXCIuL0dhbWVDb250cm9sbGVyXCI7XG5pbXBvcnQgUGxhY2VTaGlwcyBmcm9tIFwiLi9QbGFjZVNoaXBzXCI7XG5cbmNvbnN0IFVJID0gKCgpID0+IHtcbiAgY29uc3QgJG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbicpO1xuICBjb25zdCAkbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwnKTtcbiAgY29uc3QgJHdpbk1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLXdpbicpO1xuICBsZXQgbW9kZSA9ICdQTEFZJztcblxuICBjb25zdCBkZWNvZGVDb29yZHMgPSAoY29vcmRzU3RyaW5nKSA9PiB7XG4gICAgY29uc3QgY29vcmRzQXJyYXkgPSBjb29yZHNTdHJpbmcuc3BsaXQoJyAnKTtcbiAgICByZXR1cm4ge3g6ICtjb29yZHNBcnJheVswXSwgeTogK2Nvb3Jkc0FycmF5WzFdfTtcbiAgfVxuXG4gIGNvbnN0IGNyZWF0ZUh0bWxFbGVtZW50ID0gKHR5cGUsIGNsYXNzQXJyYXkgPSBudWxsLCB0ZXh0ID0gbnVsbCkgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICAgIGlmIChjbGFzc0FycmF5KSBjbGFzc0FycmF5LmZvckVhY2goY2xzID0+IGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbHMpKTtcbiAgICBpZiAodGV4dCkgZWxlbWVudC50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cbiAgXG4gIGNvbnN0IG5ld0NlbGxET00gPSAoY2VsbCkgPT4ge1xuICAgICAgY29uc3QgJGNlbGwgPSBjcmVhdGVIdG1sRWxlbWVudCgnZGl2JywgWydjZWxsJ10pO1xuICAgICAgJGNlbGwuc2V0QXR0cmlidXRlKCdkYXRhLWNvb3JkcycsIGAke2NlbGwuY29vcmRzLnh9ICR7Y2VsbC5jb29yZHMueX1gKTtcbiAgICAgIGlmIChjZWxsLmhhc1NoaXApICRjZWxsLmNsYXNzTGlzdC5hZGQoJ3NoaXAnKTtcbiAgICAgIGFkZENlbGxMaXN0ZW5lcigkY2VsbCk7XG4gICAgICByZXR1cm4gJGNlbGw7XG4gIH1cblxuICBjb25zdCBhZGRDZWxsTGlzdGVuZXIgPSAoJGNlbGwpID0+IHtcbiAgICBpZiAobW9kZSA9PT0gJ1BMQUNFJykge1xuICAgICAgJGNlbGwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIFBsYWNlU2hpcHMucGxhY2VTaGlwKGRlY29kZUNvb3JkcygkY2VsbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29vcmRzJykpKTtcbiAgICAgIH0pO1xuICBcbiAgICAgICRjZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgICAgUGxhY2VTaGlwcy5zaG93U2hpcChkZWNvZGVDb29yZHMoJGNlbGwuZ2V0QXR0cmlidXRlKCdkYXRhLWNvb3JkcycpKSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSAkY2VsbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIEdhbWVDb250cm9sbGVyLnBsYXlUdXJuKGRlY29kZUNvb3JkcygkY2VsbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29vcmRzJykpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IGNlbGxIaXQgPSAoY29vcmRzKSA9PiB7XG4gICAgY29uc3QgZW5jb2RlZENvb3JkcyA9IGAke2Nvb3Jkcy54fSAke2Nvb3Jkcy55fWA7XG4gICAgY29uc3QgJGNlbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuYWN0aXZlID4gW2RhdGEtY29vcmRzPVwiJHtlbmNvZGVkQ29vcmRzfVwiXWApO1xuICAgICRjZWxsLmNsYXNzTGlzdC5hZGQoJ2hpdCcpO1xuICB9XG5cbiAgY29uc3QgdG9nZ2xlQWN0aXZlQm9hcmQgPSAoKSA9PiB7XG4gICAgY29uc3QgJGdhbWVib2FyZENvbnRhaW5lcnMgPSBBcnJheS5mcm9tKCRtYWluLmNoaWxkcmVuKTtcbiAgICAkZ2FtZWJvYXJkQ29udGFpbmVycy5mb3JFYWNoKCRnYW1lYm9hcmQgPT4ge1xuICAgICAgJGdhbWVib2FyZC5maXJzdENoaWxkLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuICAgIH0pO1xuICB9XG5cbiAgY29uc3Qgc2hpcFN1bmsgPSAoY29vcmRzQXJyYXkpID0+IHtcbiAgICBjb29yZHNBcnJheS5mb3JFYWNoKGNvb3JkcyA9PiB7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuYWN0aXZlID4gW2RhdGEtY29vcmRzPVwiJHtjb29yZHMueH0gJHtjb29yZHMueX1cIl1gKS5jbGFzc0xpc3QuYWRkKCdzdW5rJyk7XG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IG5ld0dhbWVib2FyZENvbnRhaW5lckRPTSA9IChwbGF5ZXJOYW1lKSA9PiB7XG4gICAgY29uc3QgJGNvbnRhaW5lciA9IGNyZWF0ZUh0bWxFbGVtZW50KCdkaXYnLCBbJ2NvbnRhaW5lciddKTtcbiAgICAkY29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZUh0bWxFbGVtZW50KCdkaXYnLCBbYCR7cGxheWVyTmFtZX1gLCAnYm9hcmQnXSkpO1xuICAgICRjb250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlSHRtbEVsZW1lbnQoJ2RpdicsIFsnc2hpcHMtZGlzcGxheSddKSk7XG4gICAgaWYgKG1vZGUgPT09ICdQTEFDRScpICRtb2RhbC5hcHBlbmRDaGlsZCgkY29udGFpbmVyKTtcbiAgICBlbHNlICRtYWluLmFwcGVuZENoaWxkKCRjb250YWluZXIpO1xuICAgIHJldHVybiAkY29udGFpbmVyO1xuICB9XG5cbiAgY29uc3QgcmVuZGVyR2FtZWJvYXJkID0gKHBsYXllciwgcGxheWVyTmFtZSwgYm9hcmQsIGlzQWN0aXZlID0gZmFsc2UpID0+IHtcbiAgICBtb2RlID0gcGxheWVyTmFtZSA9PT0gJ3NhbXBsZScgPyAnUExBQ0UnOiAnUExBWSc7XG4gICAgY29uc3QgJGNvbnRhaW5lciA9IG5ld0dhbWVib2FyZENvbnRhaW5lckRPTShwbGF5ZXJOYW1lKTtcbiAgICBpZiAoaXNBY3RpdmUpICRjb250YWluZXIuZmlyc3RDaGlsZC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICBib2FyZC5mb3JFYWNoKGNlbGwgPT4gJGNvbnRhaW5lci5maXJzdENoaWxkLmFwcGVuZENoaWxkKG5ld0NlbGxET00oY2VsbCkpKTtcbiAgfVxuXG4gIGNvbnN0IG5ld1NoaXBET00gPSAoc2hpcCwgaXNQbGFjZWQgPSBmYWxzZSkgPT4ge1xuICAgIGNvbnN0ICRzaGlwQ29udGFpbmVyID0gY3JlYXRlSHRtbEVsZW1lbnQoJ2RpdicsIFsnc2hpcC1jb250YWluZXInXSk7XG4gICAgaWYgKHNoaXAuaXNTdW5rKCkgfHwgKG1vZGUgPT09ICdQTEFDRScgJiYgaXNQbGFjZWQpKSAkc2hpcENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdzdW5rJyk7XG4gICAgJHNoaXBDb250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlSHRtbEVsZW1lbnQoJ2RpdicsIFsnc2hpcC1uYW1lJ10sIHNoaXAubmFtZSkpO1xuICAgIGNvbnN0ICRzaGlwQm9keSA9IGNyZWF0ZUh0bWxFbGVtZW50KCdkaXYnLCBbJ3NoaXAtYm9keSddKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAuZ2V0TGVuZ3RoKCk7IGkrKykge1xuICAgICAgJHNoaXBCb2R5LmFwcGVuZENoaWxkKGNyZWF0ZUh0bWxFbGVtZW50KCdkaXYnLCBbJ3NoaXAtY2VsbCddKSk7XG4gICAgfVxuICAgICRzaGlwQ29udGFpbmVyLmFwcGVuZENoaWxkKCRzaGlwQm9keSk7XG4gICAgcmV0dXJuICRzaGlwQ29udGFpbmVyO1xuICB9XG5cbiAgY29uc3QgdXBkYXRlU2hpcHNEaXNwbGF5ID0gKHBsYXllck5hbWUsIHNoaXBzLCBzaGlwTnVtID0gLTEpID0+IHtcbiAgICBjb25zdCAkc2hpcHNEaXNwbGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7cGxheWVyTmFtZX1gKS5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgJHNoaXBzRGlzcGxheS50ZXh0Q29udGVudCA9ICcnO1xuICAgIHNoaXBzLmZvckVhY2goKHNoaXAsIGluZGV4KSA9PiB7XG4gICAgICAkc2hpcHNEaXNwbGF5LmFwcGVuZENoaWxkKG5ld1NoaXBET00oc2hpcCwgaW5kZXggPD0gc2hpcE51bSkpO1xuICAgIH0pO1xuICB9XG5cbiAgY29uc3Qgc2hvd1dpbm5lciA9IChwbGF5ZXJEaXNwbGF5TmFtZSkgPT4ge1xuICAgICR3aW5Nb2RhbC50ZXh0Q29udGVudCA9IGAke3BsYXllckRpc3BsYXlOYW1lfSB3aW5zYDtcbiAgICAkd2luTW9kYWwuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByZW5kZXJHYW1lYm9hcmQsXG4gICAgdXBkYXRlU2hpcHNEaXNwbGF5LFxuICAgIGNlbGxIaXQsXG4gICAgc2hpcFN1bmssXG4gICAgdG9nZ2xlQWN0aXZlQm9hcmQsXG4gICAgc2hvd1dpbm5lcixcbiAgfTtcblxufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgVUk7IiwiaW1wb3J0IFVJIGZyb20gXCIuLi9Nb2R1bGVzL1VJXCI7XG5cbmNvbnN0IEdhbWVib2FyZCA9IChzaXplKSA9PiB7XG5cbiAgbGV0IHNoaXBzID0gW107XG4gIGxldCBzdW5rID0gMDtcblxuICBjb25zdCBjZWxsID0gKHgsIHkpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgY29vcmRzOiB7eCwgeX0sXG4gICAgICBoYXNTaGlwOiAnJyxcbiAgICAgIGlzU2hvdDogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgY29uc3QgX21ha2VHcmlkID0gKHNpemUpID0+IHtcbiAgICBjb25zdCBhcnIgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemUgKiBzaXplOyBpKyspIHtcbiAgICAgIGFyci5wdXNoKGNlbGwoaSAlIHNpemUsIE1hdGguZmxvb3IoaSAvIHNpemUpKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICBjb25zdCBib2FyZCA9IF9tYWtlR3JpZChzaXplKTtcbiAgY29uc3QgYXQgPSAoY29vcmRzKSA9PiBib2FyZFtjb29yZHMueCArIGNvb3Jkcy55ICogc2l6ZV07XG5cbiAgY29uc3QgaXNWYWxpZEF0dGFjayA9IChjb29yZHMpID0+IHtcbiAgICByZXR1cm4gIWF0KGNvb3JkcykuaXNTaG90O1xuICB9XG5cbiAgY29uc3QgaXNTaGlwSGl0ID0gKGNvb3JkcykgPT4ge1xuICAgIHJldHVybiBhdChjb29yZHMpLmhhc1NoaXAgIT09ICcnO1xuICB9XG5cbiAgY29uc3QgcmVjZWl2ZUF0dGFjayA9IChjb29yZHMpID0+IHtcbiAgICBjb25zdCBjZWxsID0gYXQoY29vcmRzKTtcbiAgICBjZWxsLmlzU2hvdCA9IHRydWU7XG4gICAgVUkuY2VsbEhpdChjb29yZHMpO1xuICAgIGlmIChjZWxsLmhhc1NoaXApIHtcbiAgICAgIGNvbnN0IHNoaXAgPSBzaGlwcy5maW5kKHNoaXAgPT4gc2hpcC5uYW1lID09PSBjZWxsLmhhc1NoaXApO1xuICAgICAgc2hpcC5oaXQoKTtcbiAgICAgIGlmIChzaGlwLmlzU3VuaygpKSBzaGlwU3VuayhzaGlwLm5hbWUpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHNldFNoaXAgPSAoc2hpcCwgY29vcmRzLCBheGlzID0gJ3gnKSA9PiB7XG4gICAgc2hpcHMucHVzaChzaGlwKTtcbiAgICBsZXQgbmV3Q29vcmRzID0gY29vcmRzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5nZXRMZW5ndGgoKTsgaSsrKSB7XG4gICAgICBhdChuZXdDb29yZHMpLmhhc1NoaXAgPSBzaGlwLm5hbWU7XG4gICAgICBheGlzID09PSAneCcgPyBuZXdDb29yZHMueCsrOiBuZXdDb29yZHMueSsrO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHNoaXBTdW5rID0gKHNoaXBOYW1lKSA9PiB7XG4gICAgc3VuaysrO1xuICAgIGNvbnN0IGNvb3Jkc0FycmF5ID0gYm9hcmQuZmlsdGVyKGNlbGwgPT4gY2VsbC5oYXNTaGlwID09PSBzaGlwTmFtZSkubWFwKGNlbGwgPT4gY2VsbC5jb29yZHMpO1xuICAgIFVJLnNoaXBTdW5rKGNvb3Jkc0FycmF5KTtcbiAgfVxuXG4gIGNvbnN0IGlzQ29sbGlzaW9ucyA9IChzaGlwQ29vcmRzQXJyYXkpID0+IHtcbiAgICBmb3IgKGNvbnN0IHNoaXBDb29yZHMgb2Ygc2hpcENvb3Jkc0FycmF5KSB7XG4gICAgICBpZiAoc2hpcENvb3Jkcy54ID4gc2l6ZSAtIDEgfHwgc2hpcENvb3Jkcy55ID4gc2l6ZSAtIDEpIHJldHVybiB0cnVlO1xuICAgICAgaWYgKGF0KHNoaXBDb29yZHMpLmhhc1NoaXAgIT09ICcnKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3QgcmVzZXQgPSAoKSA9PiB7XG4gICAgc2hpcHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGNlbGwgb2YgYm9hcmQpIHtcbiAgICAgIGNlbGwuaXNTaG90ID0gZmFsc2U7XG4gICAgICBjZWxsLmhhc1NoaXAgPSAnJztcbiAgICB9XG4gIH1cblxuICBjb25zdCBhbGxTaGlwc1N1bmsgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHN1bmsgPj0gc2hpcHMubGVuZ3RoO1xuICB9XG5cbiAgY29uc3QgZ2V0Qm9hcmQgPSAoKSA9PiBib2FyZDtcbiAgY29uc3QgZ2V0U2hpcHMgPSAoKSA9PiBzaGlwcztcblxuICByZXR1cm4ge1xuICAgIGF0LFxuICAgIGlzVmFsaWRBdHRhY2ssXG4gICAgaXNTaGlwSGl0LFxuICAgIHJlY2VpdmVBdHRhY2ssXG4gICAgc2V0U2hpcCxcbiAgICBpc0NvbGxpc2lvbnMsXG4gICAgZ2V0Qm9hcmQsXG4gICAgZ2V0U2hpcHMsXG4gICAgcmVzZXQsXG4gICAgYWxsU2hpcHNTdW5rXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdhbWVib2FyZDsiLCJpbXBvcnQgR2FtZWJvYXJkIGZyb20gXCIuL0dhbWVib2FyZFwiXG5cbmNvbnN0IFBsYXllciA9IChuYW1lLCBkaXNwbGF5TmFtZSkgPT4ge1xuICByZXR1cm4ge1xuICAgIG5hbWUsXG4gICAgZGlzcGxheU5hbWUsXG4gICAgZ2FtZWJvYXJkOiBHYW1lYm9hcmQoMTApLFxuICAgIGlzQWN0aXZlOiBmYWxzZSxcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUGxheWVyOyIsImNvbnN0IFNoaXAgPSAobGVuZ3RoLCBuYW1lKSA9PiB7XG4gIGNvbnN0IHNoaXBMZW5ndGggPSBsZW5ndGg7XG4gIGxldCBoaXRDb3VudCA9IDA7XG5cbiAgLy8gR2V0dGVyc1xuICBjb25zdCBnZXRMZW5ndGggPSAoKSA9PiBzaGlwTGVuZ3RoO1xuICBjb25zdCBnZXRIaXRzID0gKCkgPT4gaGl0Q291bnQ7XG5cbiAgY29uc3QgaGl0ID0gKCkgPT4ge1xuICAgIGhpdENvdW50Kys7XG4gIH1cblxuICBjb25zdCBpc1N1bmsgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGhpdENvdW50ID49IHNoaXBMZW5ndGg7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG5hbWUsXG4gICAgZ2V0TGVuZ3RoLFxuICAgIGdldEhpdHMsXG4gICAgaGl0LFxuICAgIGlzU3VuayxcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2hpcDsiLCJpbXBvcnQgUGxheWVyIGZyb20gXCIuLi9GYWN0b3JpZXMvUGxheWVyXCI7XG5pbXBvcnQgU2hpcCBmcm9tIFwiLi4vRmFjdG9yaWVzL1NoaXBcIjtcblxuY29uc3QgQUkgPSAoKCkgPT4ge1xuXG4gIGNvbnN0IEFJcGxheWVyID0gUGxheWVyKCdBSScpO1xuICBjb25zdCBzaGlwcyA9IFtTaGlwKDUsICdDYXJyaWVyJyksIFNoaXAoNCwgJ0JhdHRsZXNoaXAnKSwgU2hpcCgzLCAnQ3J1aXNlcicpLCBTaGlwKDMsICdTdWJtYXJpbmUnKSwgU2hpcCgyLCAnRGVzdHJveWVyJyldO1xuXG4gIGNvbnN0IHBsYWNlU2hpcHMgPSAoKSA9PiB7XG4gICAgQUlwbGF5ZXIuZ2FtZWJvYXJkLnNldFNoaXAoc2hpcHNbMF0sIHt4OiAwLCB5OiAwfSwgJ3gnKTtcbiAgICBBSXBsYXllci5nYW1lYm9hcmQuc2V0U2hpcChzaGlwc1sxXSwge3g6IDksIHk6IDZ9LCAneScpO1xuICAgIEFJcGxheWVyLmdhbWVib2FyZC5zZXRTaGlwKHNoaXBzWzJdLCB7eDogMSwgeTogN30sICd5Jyk7XG4gICAgQUlwbGF5ZXIuZ2FtZWJvYXJkLnNldFNoaXAoc2hpcHNbM10sIHt4OiA3LCB5OiAxfSwgJ3gnKTtcbiAgICBBSXBsYXllci5nYW1lYm9hcmQuc2V0U2hpcChzaGlwc1s0XSwge3g6IDQsIHk6IDN9LCAneCcpO1xuICB9XG5cbiAgY29uc3QgZ2V0Q29vcmRzID0gKGJvYXJkKSA9PiB7XG4gICAgY29uc3QgdmFsaWRDZWxscyA9IGJvYXJkLmZpbHRlcihjZWxsID0+ICFjZWxsLmlzU2hvdCk7XG4gICAgY29uc3QgY29vcmRzID0gdmFsaWRDZWxsc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB2YWxpZENlbGxzLmxlbmd0aCldLmNvb3JkcztcbiAgICByZXR1cm4gY29vcmRzO1xuICB9O1xuXG4gIGNvbnN0IGdldEFJUGxheWVyID0gKCkgPT4ge1xuICAgIHBsYWNlU2hpcHMoKTtcbiAgICByZXR1cm4gQUlwbGF5ZXI7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGdldENvb3JkcyxcbiAgICBnZXRBSVBsYXllcixcbiAgfTtcblxufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgQUk7IiwiaW1wb3J0IFBsYXllciBmcm9tIFwiLi4vRmFjdG9yaWVzL1BsYXllclwiO1xuaW1wb3J0IFVJIGZyb20gXCIuL1VJXCI7XG5pbXBvcnQgQUkgZnJvbSBcIi4vQUlQbGF5ZXJcIjtcbmltcG9ydCBQbGFjZVNoaXBzIGZyb20gXCIuL1BsYWNlU2hpcHNcIjtcblxuY29uc3QgR2FtZUNvbnRyb2xsZXIgPSAoKCkgPT4ge1xuXG4gIGNvbnN0IHBsYXllcjEgPSBQbGF5ZXIoJ1AxJywgJ1BsYXllcicpO1xuICBjb25zdCBwbGF5ZXIyID0gUGxheWVyKCdQMicsICdFbmVteScpO1xuXG4gIGZ1bmN0aW9uIHNsZWVwKG1zKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xuICB9IFxuXG4gIGNvbnN0IG9wcG9uZW50ID0gKCkgPT4ge1xuICAgIHJldHVybiBwbGF5ZXIxLmlzQWN0aXZlID8gcGxheWVyMjogcGxheWVyMTtcbiAgfVxuXG4gIGNvbnN0IGFjdGl2ZVBsYXllciA9ICgpID0+IHtcbiAgICByZXR1cm4gcGxheWVyMS5pc0FjdGl2ZSA/IHBsYXllcjE6IHBsYXllcjI7XG4gIH1cblxuICBjb25zdCB0b2dnbGVBY3RpdmVQbGF5ZXIgPSAoKSA9PiB7XG4gICAgcGxheWVyMS5pc0FjdGl2ZSA9ICFwbGF5ZXIxLmlzQWN0aXZlO1xuICAgIHBsYXllcjIuaXNBY3RpdmUgPSAhcGxheWVyMi5pc0FjdGl2ZTtcbiAgICBVSS50b2dnbGVBY3RpdmVCb2FyZCgpO1xuICB9XG5cbiAgY29uc3QgaW5pdFBsYXllcjEgPSAoKSA9PiB7XG4gICAgcGxheWVyMS5pc0FjdGl2ZSA9IHRydWU7XG4gICAgcGxheWVyMS5nYW1lYm9hcmQgPSBQbGFjZVNoaXBzLmdldFNhbXBsZVBsYXllcigpLmdhbWVib2FyZDtcbiAgICBVSS5yZW5kZXJHYW1lYm9hcmQoJ1AxJywgcGxheWVyMS5uYW1lLCBwbGF5ZXIxLmdhbWVib2FyZC5nZXRCb2FyZCgpKTtcbiAgICBVSS51cGRhdGVTaGlwc0Rpc3BsYXkocGxheWVyMS5uYW1lLCBwbGF5ZXIxLmdhbWVib2FyZC5nZXRTaGlwcygpKTtcbiAgfVxuXG4gIGNvbnN0IGluaXRQbGF5ZXIyID0gKCkgPT4ge1xuICAgIHBsYXllcjIuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICBwbGF5ZXIyLmdhbWVib2FyZCA9IEFJLmdldEFJUGxheWVyKCkuZ2FtZWJvYXJkO1xuICAgIFVJLnJlbmRlckdhbWVib2FyZCgnUDInLCBwbGF5ZXIyLm5hbWUsIHBsYXllcjIuZ2FtZWJvYXJkLmdldEJvYXJkKCksIHRydWUpO1xuICAgIFVJLnVwZGF0ZVNoaXBzRGlzcGxheShwbGF5ZXIyLm5hbWUsIHBsYXllcjIuZ2FtZWJvYXJkLmdldFNoaXBzKCkpO1xuXG4gIH1cblxuICBjb25zdCBwbGF5VHVybiA9IGFzeW5jIChjb29yZHMpID0+IHtcbiAgICBjb25zdCBvcHBvbmVudEJvYXJkID0gb3Bwb25lbnQoKS5nYW1lYm9hcmQ7XG4gICAgaWYgKCFvcHBvbmVudEJvYXJkLmlzVmFsaWRBdHRhY2soY29vcmRzKSkgcmV0dXJuO1xuICAgIG9wcG9uZW50Qm9hcmQucmVjZWl2ZUF0dGFjayhjb29yZHMpO1xuICAgIFVJLnVwZGF0ZVNoaXBzRGlzcGxheShvcHBvbmVudCgpLm5hbWUsIG9wcG9uZW50Qm9hcmQuZ2V0U2hpcHMoKSk7XG4gICAgaWYgKCFvcHBvbmVudEJvYXJkLmlzU2hpcEhpdChjb29yZHMpKSB7XG4gICAgICBhd2FpdCBzbGVlcCgzMDApO1xuICAgICAgdG9nZ2xlQWN0aXZlUGxheWVyKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG9wcG9uZW50Qm9hcmQuYWxsU2hpcHNTdW5rKCkpIHtcbiAgICAgIFVJLnNob3dXaW5uZXIoYWN0aXZlUGxheWVyKCkuZGlzcGxheU5hbWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwbGF5R2FtZSgpO1xuICB9XG5cbiAgY29uc3QgcGxheUdhbWUgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKHBsYXllcjIuaXNBY3RpdmUpIHtcbiAgICAgIGF3YWl0IHNsZWVwKE1hdGgucmFuZG9tKCkqMzAwICsgNTAwKTtcbiAgICAgIHBsYXlUdXJuKEFJLmdldENvb3JkcyhvcHBvbmVudCgpLmdhbWVib2FyZC5nZXRCb2FyZCgpKSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgaW5pdCA9ICgpID0+IHtcbiAgICBpbml0UGxheWVyMSgpO1xuICAgIGluaXRQbGF5ZXIyKCk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBpbml0LFxuICAgIHBsYXlUdXJuLFxuICB9O1xuXG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBHYW1lQ29udHJvbGxlcjsiLCJpbXBvcnQgR2FtZUNvbnRyb2xsZXIgZnJvbSBcIi4vR2FtZUNvbnRyb2xsZXJcIjtcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4uL0ZhY3Rvcmllcy9QbGF5ZXJcIjtcbmltcG9ydCBTaGlwIGZyb20gXCIuLi9GYWN0b3JpZXMvU2hpcFwiO1xuaW1wb3J0IFVJIGZyb20gXCIuL1VJXCI7XG5cbmNvbnN0IFBsYWNlU2hpcHMgPSAoKCkgPT4ge1xuICBjb25zdCBwbGF5ZXIgPSBQbGF5ZXIoJ3NhbXBsZScpO1xuICBjb25zdCBzaGlwcyA9IFtTaGlwKDUsICdDYXJyaWVyJyksIFNoaXAoNCwgJ0JhdHRsZXNoaXAnKSwgU2hpcCgzLCAnQ3J1aXNlcicpLCBTaGlwKDMsICdTdWJtYXJpbmUnKSwgU2hpcCgyLCAnRGVzdHJveWVyJyldO1xuICBsZXQgY3VycmVudCA9IHtcbiAgICBzaGlwTnVtOiAwLFxuICAgIHNoaXBDb29yZHNBcnJheTogW10sXG4gICAgYXhpczogJ3gnXG4gIH07XG4gIGNvbnN0ICRtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbCcpO1xuICBjb25zdCAkcGxheUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbi5wbGF5Jyk7XG4gIGNvbnN0ICRyZXNldEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbi5yZXNldCcpO1xuXG4gIC8vIFV0aWwgXG5cbiAgY29uc3QgY2VsbEF0ID0gKGNvb3JkcykgPT4ge1xuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1jb29yZHM9XCIke2Nvb3Jkcy54fSAke2Nvb3Jkcy55fVwiXWApO1xuICB9XG5cbiAgLy8gRE9NXG5cbiAgY29uc3Qgc2hvd1NoaXAgPSAoY29vcmRzKSA9PiB7XG4gICAgaWYgKGN1cnJlbnQuc2hpcE51bSA+PSBzaGlwcy5sZW5ndGgpIHJldHVybjtcbiAgICBpZiAoY3VycmVudC5zaGlwQ29vcmRzQXJyYXkubGVuZ3RoICE9PSAwKSB7XG4gICAgICBjdXJyZW50LnNoaXBDb29yZHNBcnJheS5mb3JFYWNoKGNvb3JkcyA9PiB7XG4gICAgICAgIGNlbGxBdChjb29yZHMpLmNsYXNzTGlzdC5yZW1vdmUoJ3RlbXAnKTtcbiAgICAgICAgY2VsbEF0KGNvb3JkcykuY2xhc3NMaXN0LnJlbW92ZSgnaW52YWxpZCcpO1xuICAgICAgfSlcbiAgICB9XG4gICAgY3VycmVudC5zaGlwQ29vcmRzQXJyYXkgPSBtYWtlU2hpcChjb29yZHMpO1xuICAgIGN1cnJlbnQuc2hpcENvb3Jkc0FycmF5LmZvckVhY2goY29vcmRzID0+IHtcbiAgICAgIGNlbGxBdChjb29yZHMpLmNsYXNzTGlzdC5hZGQoXCJ0ZW1wXCIpO1xuICAgIH0pXG4gICAgaWYgKCFpc1NoaXBWYWxpZCgpKSB7XG4gICAgICBjdXJyZW50LnNoaXBDb29yZHNBcnJheS5mb3JFYWNoKGNvb3JkcyA9PiB7XG4gICAgICAgIGNlbGxBdChjb29yZHMpLmNsYXNzTGlzdC5hZGQoXCJpbnZhbGlkXCIpO1xuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBtYWtlU2hpcCA9IChjb29yZHMpID0+IHtcbiAgICBsZXQgc2hpcENvb3Jkc0FycmF5ID0gW107XG4gICAgbGV0IG5ld0Nvb3JkcyA9IGNvb3JkcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXBzW2N1cnJlbnQuc2hpcE51bV0uZ2V0TGVuZ3RoKCk7IGkrKykge1xuICAgICAgc2hpcENvb3Jkc0FycmF5LnB1c2goe3g6IG5ld0Nvb3Jkcy54LCB5OiBuZXdDb29yZHMueX0pO1xuICAgICAgY3VycmVudC5heGlzID09PSAneCcgPyBuZXdDb29yZHMueCsrOiBuZXdDb29yZHMueSsrO1xuICAgICAgaWYgKG5ld0Nvb3Jkcy54ID4gOSB8fCBuZXdDb29yZHMueSA+IDkpIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gc2hpcENvb3Jkc0FycmF5O1xuICB9XG5cbiAgY29uc3QgaXNTaGlwVmFsaWQgPSAoKSA9PiB7XG4gICAgcmV0dXJuICghcGxheWVyLmdhbWVib2FyZC5pc0NvbGxpc2lvbnMoY3VycmVudC5zaGlwQ29vcmRzQXJyYXkpICYmIFxuICAgICAgICAgIGN1cnJlbnQuc2hpcENvb3Jkc0FycmF5Lmxlbmd0aCA9PT0gc2hpcHNbY3VycmVudC5zaGlwTnVtXS5nZXRMZW5ndGgoKSk7XG4gIH1cblxuICBcbiAgY29uc3QgcGxhY2VTaGlwID0gKGNvb3JkcykgPT4ge1xuICAgIGlmICghaXNTaGlwVmFsaWQoKSkgcmV0dXJuO1xuICAgIHBsYXllci5nYW1lYm9hcmQuc2V0U2hpcChzaGlwc1tjdXJyZW50LnNoaXBOdW0rK10sIGNvb3JkcywgY3VycmVudC5heGlzKTtcbiAgICBjdXJyZW50LnNoaXBDb29yZHNBcnJheS5mb3JFYWNoKGNvb3JkcyA9PiB7XG4gICAgICBjZWxsQXQoY29vcmRzKS5jbGFzc0xpc3QuYWRkKCdzaGlwJyk7XG4gICAgICBjZWxsQXQoY29vcmRzKS5jbGFzc0xpc3QucmVtb3ZlKCd0ZW1wJyk7XG4gICAgfSk7XG4gICAgVUkudXBkYXRlU2hpcHNEaXNwbGF5KHBsYXllci5uYW1lLCBzaGlwcywgY3VycmVudC5zaGlwTnVtIC0gMSk7XG4gICAgaWYgKGN1cnJlbnQuc2hpcE51bSA9PT0gc2hpcHMubGVuZ3RoKSB7XG4gICAgICAkcGxheUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9XG4gIH1cblxuICBjb25zdCByZXNldCA9ICgpID0+IHtcbiAgICBwbGF5ZXIuZ2FtZWJvYXJkLnJlc2V0KCk7XG4gICAgcGxheWVyLmdhbWVib2FyZC5nZXRCb2FyZCgpLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICBjZWxsQXQoY2VsbC5jb29yZHMpLmNsYXNzTGlzdC5yZW1vdmUoJ3NoaXAnKTtcbiAgICAgIGNlbGxBdChjZWxsLmNvb3JkcykuY2xhc3NMaXN0LnJlbW92ZSgndGVtcCcpO1xuICAgIH0pO1xuICAgIGNvbnN0ICRzaGlwQ29udGFpbmVycyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNoaXBzLWRpc3BsYXknKS5jaGlsZHJlbik7XG4gICAgJHNoaXBDb250YWluZXJzLmZvckVhY2goJHNoaXBDb250YWluZXIgPT4gJHNoaXBDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnc3VuaycpKTtcbiAgICBjdXJyZW50ID0ge1xuICAgICAgc2hpcE51bTogMCxcbiAgICAgIHNoaXBDb29yZHNBcnJheTogW10sXG4gICAgICBheGlzOiAneCdcbiAgICB9O1xuICAgICRwbGF5QnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIH1cbiAgXG4gIGNvbnN0IGdldFNhbXBsZVBsYXllciA9ICgpID0+IHBsYXllcjtcblxuICBjb25zdCBpbml0ID0gKCkgPT4ge1xuICAgIFVJLnJlbmRlckdhbWVib2FyZCgnc2FtcGxlJywgcGxheWVyLm5hbWUsIHBsYXllci5nYW1lYm9hcmQuZ2V0Qm9hcmQoKSk7XG4gICAgVUkudXBkYXRlU2hpcHNEaXNwbGF5KHBsYXllci5uYW1lLCBzaGlwcyk7XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsICh7IGtleSB9KSA9PiB7XG4gICAgICBpZiAoa2V5ID09PSAnUicgfHwga2V5ID09PSAncicpIHtcbiAgICAgICAgY3VycmVudC5heGlzID0gY3VycmVudC5heGlzID09PSAneCcgPyAneSc6ICd4JztcbiAgICAgICAgc2hvd1NoaXAoY3VycmVudC5zaGlwQ29vcmRzQXJyYXlbMF0sIGN1cnJlbnQuYXhpcyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAkcGxheUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICRtb2RhbC5yZW1vdmUoKTtcbiAgICAgIEdhbWVDb250cm9sbGVyLmluaXQoKTtcbiAgICB9KVxuXG4gICAgJHJlc2V0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVzZXQpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpbml0LFxuICAgIHBsYWNlU2hpcCxcbiAgICBzaG93U2hpcCxcbiAgICBnZXRTYW1wbGVQbGF5ZXIsXG4gIH1cblxufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgUGxhY2VTaGlwczsiLCIvLyBpbXBvcnQgR2FtZUNvbnRyb2xsZXIgZnJvbSBcIi4vTW9kdWxlcy9HYW1lQ29udHJvbGxlclwiO1xuaW1wb3J0IFBsYWNlU2hpcHMgZnJvbSBcIi4vTW9kdWxlcy9QbGFjZVNoaXBzXCI7XG5cblBsYWNlU2hpcHMuaW5pdCgpOyJdLCJuYW1lcyI6WyIkbWFpbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIiRtb2RhbCIsIiR3aW5Nb2RhbCIsIm1vZGUiLCJkZWNvZGVDb29yZHMiLCJjb29yZHNTdHJpbmciLCJjb29yZHNBcnJheSIsInNwbGl0IiwieCIsInkiLCJjcmVhdGVIdG1sRWxlbWVudCIsInR5cGUiLCJjbGFzc0FycmF5IiwidGV4dCIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZm9yRWFjaCIsImNscyIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwicmVuZGVyR2FtZWJvYXJkIiwicGxheWVyIiwicGxheWVyTmFtZSIsImJvYXJkIiwiaXNBY3RpdmUiLCIkY29udGFpbmVyIiwiYXBwZW5kQ2hpbGQiLCJuZXdHYW1lYm9hcmRDb250YWluZXJET00iLCJmaXJzdENoaWxkIiwiY2VsbCIsIiRjZWxsIiwic2V0QXR0cmlidXRlIiwiY29vcmRzIiwiaGFzU2hpcCIsImFkZEV2ZW50TGlzdGVuZXIiLCJnZXRBdHRyaWJ1dGUiLCJhZGRDZWxsTGlzdGVuZXIiLCJuZXdDZWxsRE9NIiwidXBkYXRlU2hpcHNEaXNwbGF5Iiwic2hpcHMiLCJzaGlwTnVtIiwiJHNoaXBzRGlzcGxheSIsIm5leHRFbGVtZW50U2libGluZyIsInNoaXAiLCJpbmRleCIsImlzUGxhY2VkIiwiJHNoaXBDb250YWluZXIiLCJpc1N1bmsiLCJuYW1lIiwiJHNoaXBCb2R5IiwiaSIsImdldExlbmd0aCIsIm5ld1NoaXBET00iLCJjZWxsSGl0IiwiZW5jb2RlZENvb3JkcyIsInNoaXBTdW5rIiwidG9nZ2xlQWN0aXZlQm9hcmQiLCJBcnJheSIsImZyb20iLCJjaGlsZHJlbiIsIiRnYW1lYm9hcmQiLCJ0b2dnbGUiLCJzaG93V2lubmVyIiwicGxheWVyRGlzcGxheU5hbWUiLCJzaXplIiwic3VuayIsImFyciIsInB1c2giLCJNYXRoIiwiZmxvb3IiLCJpc1Nob3QiLCJfbWFrZUdyaWQiLCJhdCIsImlzVmFsaWRBdHRhY2siLCJpc1NoaXBIaXQiLCJyZWNlaXZlQXR0YWNrIiwiZmluZCIsImhpdCIsInNoaXBOYW1lIiwiZmlsdGVyIiwibWFwIiwic2V0U2hpcCIsImF4aXMiLCJuZXdDb29yZHMiLCJpc0NvbGxpc2lvbnMiLCJzaGlwQ29vcmRzQXJyYXkiLCJzaGlwQ29vcmRzIiwiZ2V0Qm9hcmQiLCJnZXRTaGlwcyIsInJlc2V0IiwiYWxsU2hpcHNTdW5rIiwibGVuZ3RoIiwiZGlzcGxheU5hbWUiLCJnYW1lYm9hcmQiLCJzaGlwTGVuZ3RoIiwiaGl0Q291bnQiLCJnZXRIaXRzIiwiQUlwbGF5ZXIiLCJnZXRDb29yZHMiLCJ2YWxpZENlbGxzIiwicmFuZG9tIiwiZ2V0QUlQbGF5ZXIiLCJwbGF5ZXIxIiwicGxheWVyMiIsInNsZWVwIiwibXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJvcHBvbmVudCIsInBsYXlUdXJuIiwiYXN5bmMiLCJvcHBvbmVudEJvYXJkIiwicGxheUdhbWUiLCJpbml0IiwiY3VycmVudCIsIiRwbGF5QnV0dG9uIiwiJHJlc2V0QnV0dG9uIiwiY2VsbEF0Iiwic2hvd1NoaXAiLCJyZW1vdmUiLCJtYWtlU2hpcCIsImlzU2hpcFZhbGlkIiwic3R5bGUiLCJkaXNwbGF5Iiwia2V5IiwicGxhY2VTaGlwIiwiZ2V0U2FtcGxlUGxheWVyIl0sInNvdXJjZVJvb3QiOiIifQ==