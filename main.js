(()=>{"use strict";const e=(()=>{const e=document.querySelector(".main"),t=document.querySelector(".modal");let s="PLAY";const a=e=>{const t=e.split(" ");return{x:+t[0],y:+t[1]}},r=(e,t=null,s=null)=>{const a=document.createElement(e);return t&&t.forEach((e=>a.classList.add(e))),s&&(a.textContent=s),a};return{renderGameboard:(r,d,n,c=!1)=>{s="sample"===d?"PLACE":"PLAY";const l=(a=>{const r=document.createElement("div");r.classList.add("container");const i=document.createElement("div");i.classList.add(`${a}`),i.classList.add("board");const o=document.createElement("div");return o.classList.add("ships-display"),r.appendChild(i),r.appendChild(o),"PLACE"===s?t.appendChild(r):e.appendChild(r),r})(d);c&&l.firstChild.classList.add("active"),n.forEach((e=>l.firstChild.appendChild((e=>{const t=document.createElement("div");return t.classList.add("cell"),t.setAttribute("data-coords",`${e.coords.x} ${e.coords.y}`),e.hasShip&&t.classList.add("ship"),(e=>{"PLACE"===s?(e.addEventListener("click",(()=>{o.placeShip(a(e.getAttribute("data-coords")))})),e.addEventListener("mouseover",(()=>{o.showShip(a(e.getAttribute("data-coords")))}))):e.addEventListener("click",(()=>{i.playTurn(a(e.getAttribute("data-coords")))}))})(t),t})(e))))},updateShipsDisplay:(e,t,a=-1)=>{const i=document.querySelector(`.${e}`).nextElementSibling;i.textContent="",t.forEach(((e,t)=>{i.appendChild(((e,t=!1)=>{const a=r("div",["ship-container"]);(e.isSunk()||"PLACE"===s&&t)&&a.classList.add("sunk"),a.appendChild(r("div",["ship-name"],e.name));const i=r("div",["ship-body"]);for(let t=0;t<e.getLength();t++)i.appendChild(r("div",["ship-cell"]));return a.appendChild(i),a})(e,t<=a))}))},cellHit:e=>{const t=`${e.x} ${e.y}`;document.querySelector(`.active > [data-coords="${t}"]`).classList.add("hit")},shipSunk:e=>{e.forEach((e=>{document.querySelector(`.active > [data-coords="${e.x} ${e.y}"]`).classList.add("sunk")}))},toggleActiveBoard:()=>{Array.from(e.children).forEach((e=>{e.firstChild.classList.toggle("active")}))}}})(),t=t=>{let s=[],a=0;const r=(e=>{const t=[];for(let s=0;s<e*e;s++)t.push({coords:{x:s%e,y:Math.floor(s/e)},hasShip:"",isShot:!1});return t})(t),i=e=>r[e.x+e.y*t];return{at:i,isValidAttack:e=>!i(e).isShot,isShipHit:e=>""!==i(e).hasShip,receiveAttack:t=>{const o=i(t);if(o.isShot=!0,e.cellHit(t),o.hasShip){const t=s.find((e=>e.name===o.hasShip));t.hit(),t.isSunk()&&(t=>{a++;const s=r.filter((e=>e.hasShip===t)).map((e=>e.coords));e.shipSunk(s)})(t.name)}},setShip:(e,t,a="x")=>{s.push(e);let r=t;for(let t=0;t<e.getLength();t++)i(r).hasShip=e.name,"x"===a?r.x++:r.y++},isCollisions:e=>{for(const s of e){if(s.x>t-1||s.y>t-1)return!0;if(""!==i(s).hasShip)return!0}return!1},getBoard:()=>r,getShips:()=>s,reset:()=>{s=[];for(const e of r)e.isShot=!1,e.hasShip=""},allShipsSunk:()=>a>=s.length}},s=e=>({name:e,gameboard:t(10),isActive:!1}),a=(e,t)=>{const s=e;let a=0;return{name:t,getLength:()=>s,getHits:()=>a,hit:()=>{a++},isSunk:()=>a>=s}},r=(()=>{const e=s("AI"),t=[a(5,"Carrier"),a(4,"Battleship"),a(3,"Cruiser"),a(3,"Submarine"),a(2,"Destroyer")];return{getCoords:e=>{const t=e.filter((e=>!e.isShot));return t[Math.floor(Math.random()*t.length)].coords},getAIPlayer:()=>(e.gameboard.setShip(t[0],{x:0,y:0},"x"),e.gameboard.setShip(t[1],{x:9,y:6},"y"),e.gameboard.setShip(t[2],{x:1,y:7},"y"),e.gameboard.setShip(t[3],{x:7,y:1},"x"),e.gameboard.setShip(t[4],{x:4,y:3},"x"),e)}})(),i=(()=>{const t=s("P1"),a=s("P2"),i=()=>t.isActive?a:t,d=s=>{const r=i().gameboard;r.isValidAttack(s)&&(r.receiveAttack(s),e.updateShipsDisplay(i().name,r.getShips()),r.isShipHit(s)?r.allShipsSunk()&&console.log("player wins"):(t.isActive=!t.isActive,a.isActive=!a.isActive,e.toggleActiveBoard()),n())},n=async()=>{a.isActive&&(await(300,new Promise((e=>setTimeout(e,300)))),d(r.getCoords(i().gameboard.getBoard())))};return{init:()=>{t.isActive=!0,t.gameboard=o.getSamplePlayer().gameboard,e.renderGameboard("P1",t.name,t.gameboard.getBoard()),e.updateShipsDisplay(t.name,t.gameboard.getShips()),a.isActive=!1,a.gameboard=r.getAIPlayer().gameboard,e.renderGameboard("P2",a.name,a.gameboard.getBoard(),!0),e.updateShipsDisplay(a.name,a.gameboard.getShips())},playTurn:d}})(),o=(()=>{const t=s("sample"),r=[a(5,"Carrier"),a(4,"Battleship"),a(3,"Cruiser"),a(3,"Submarine"),a(2,"Destroyer")];let o={shipNum:0,shipCoordsArray:[],axis:"x"};const d=document.querySelector(".modal"),n=document.querySelector("button.play"),c=document.querySelector("button.reset"),l=e=>document.querySelector(`[data-coords="${e.x} ${e.y}"]`),h=e=>{o.shipNum>=r.length||(0!==o.shipCoordsArray.length&&o.shipCoordsArray.forEach((e=>{l(e).classList.remove("temp"),l(e).classList.remove("invalid")})),o.shipCoordsArray=p(e),o.shipCoordsArray.forEach((e=>{l(e).classList.add("temp")})),m()||o.shipCoordsArray.forEach((e=>{l(e).classList.add("invalid")})))},p=e=>{let t=[],s=e;for(let e=0;e<r[o.shipNum].getLength()&&(t.push({x:s.x,y:s.y}),"x"===o.axis?s.x++:s.y++,!(s.x>9||s.y>9));e++);return t},m=()=>!t.gameboard.isCollisions(o.shipCoordsArray)&&o.shipCoordsArray.length===r[o.shipNum].getLength(),u=()=>{t.gameboard.reset(),t.gameboard.getBoard().forEach((e=>{l(e.coords).classList.remove("ship"),l(e.coords).classList.remove("temp")})),Array.from(document.querySelector(".ships-display").children).forEach((e=>e.classList.remove("sunk"))),o={shipNum:0,shipCoordsArray:[],axis:"x"},n.style.display="none"};return{init:()=>{e.renderGameboard("sample",t.name,t.gameboard.getBoard()),e.updateShipsDisplay(t.name,r),document.addEventListener("keyup",(({key:e})=>{"R"!==e&&"r"!==e||(o.axis="x"===o.axis?"y":"x",h(o.shipCoordsArray[0],o.axis))})),n.addEventListener("click",(()=>{d.remove(),i.init()})),c.addEventListener("click",u)},placeShip:s=>{m()&&(t.gameboard.setShip(r[o.shipNum++],s,o.axis),o.shipCoordsArray.forEach((e=>{l(e).classList.add("ship"),l(e).classList.remove("temp")})),e.updateShipsDisplay(t.name,r,o.shipNum-1),o.shipNum===r.length&&(n.style.display="block"))},showShip:h,getSamplePlayer:()=>t}})();o.init()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFVM0YsRUFBTzRCLEtBQU01QixFQUFPc0UsVUFBVUwsWUFDM0QscUJBQXNCakUsRUFBTzRCLEtBQU1SLEdBRW5DMUMsU0FBU3FDLGlCQUFpQixTQUFTLEVBQUd1RixJQUFBQSxNQUN4QixNQUFSQSxHQUF1QixNQUFSQSxJQUNqQlYsRUFBUWhDLEtBQXdCLE1BQWpCZ0MsRUFBUWhDLEtBQWUsSUFBSyxJQUMzQ29DLEVBQVNKLEVBQVE3QixnQkFBZ0IsR0FBSTZCLEVBQVFoQyxVQUlqRGlDLEVBQVk5RSxpQkFBaUIsU0FBUyxLQUNwQ25DLEVBQU9xSCxTQUNQLFlBR0ZILEVBQWEvRSxpQkFBaUIsUUFBU29ELElBS3ZDb0MsVUFwRGlCMUYsSUFDWnNGLE1BQ0xuRyxFQUFPc0UsVUFBVVgsUUFBUXZDLEVBQU13RSxFQUFRdkUsV0FBWVIsRUFBUStFLEVBQVFoQyxNQUNuRWdDLEVBQVE3QixnQkFBZ0JyRSxTQUFRbUIsSUFDOUJrRixFQUFPbEYsR0FBUWpCLFVBQVVDLElBQUksUUFDN0JrRyxFQUFPbEYsR0FBUWpCLFVBQVVxRyxPQUFPLFdBRWxDLHFCQUFzQmpHLEVBQU80QixLQUFNUixFQUFPd0UsRUFBUXZFLFFBQVUsR0FDeER1RSxFQUFRdkUsVUFBWUQsRUFBTWlELFNBQzVCd0IsRUFBWU8sTUFBTUMsUUFBVSxXQTRDOUJMLFNBQUFBLEVBQ0FRLGdCQXpCc0IsSUFBTXhHLElBckZiLEdDRm5CLFUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL01vZHVsZXMvVUkuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9GYWN0b3JpZXMvR2FtZWJvYXJkLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvRmFjdG9yaWVzL1BsYXllci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL0ZhY3Rvcmllcy9TaGlwLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvTW9kdWxlcy9BSVBsYXllci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL01vZHVsZXMvR2FtZUNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9Nb2R1bGVzL1BsYWNlU2hpcHMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgR2FtZUNvbnRyb2xsZXIgZnJvbSBcIi4vR2FtZUNvbnRyb2xsZXJcIjtcbmltcG9ydCBQbGFjZVNoaXBzIGZyb20gXCIuL1BsYWNlU2hpcHNcIjtcblxuY29uc3QgVUkgPSAoKCkgPT4ge1xuICBjb25zdCAkbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluJyk7XG4gIGNvbnN0ICRtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbCcpO1xuICBsZXQgbW9kZSA9ICdQTEFZJztcblxuICBjb25zdCBkZWNvZGVDb29yZHMgPSAoY29vcmRzU3RyaW5nKSA9PiB7XG4gICAgY29uc3QgY29vcmRzQXJyYXkgPSBjb29yZHNTdHJpbmcuc3BsaXQoJyAnKTtcbiAgICByZXR1cm4ge3g6ICtjb29yZHNBcnJheVswXSwgeTogK2Nvb3Jkc0FycmF5WzFdfTtcbiAgfVxuXG4gIGNvbnN0IGNyZWF0ZUh0bWxFbGVtZW50ID0gKHR5cGUsIGNsYXNzQXJyYXkgPSBudWxsLCB0ZXh0ID0gbnVsbCkgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICAgIGlmIChjbGFzc0FycmF5KSBjbGFzc0FycmF5LmZvckVhY2goY2xzID0+IGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbHMpKTtcbiAgICBpZiAodGV4dCkgZWxlbWVudC50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cbiAgXG4gIGNvbnN0IG5ld0NlbGxET00gPSAoY2VsbCkgPT4ge1xuICAgICAgY29uc3QgJGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICRjZWxsLmNsYXNzTGlzdC5hZGQoJ2NlbGwnKTtcbiAgICAgICRjZWxsLnNldEF0dHJpYnV0ZSgnZGF0YS1jb29yZHMnLCBgJHtjZWxsLmNvb3Jkcy54fSAke2NlbGwuY29vcmRzLnl9YCk7XG4gICAgICBpZiAoY2VsbC5oYXNTaGlwKSAkY2VsbC5jbGFzc0xpc3QuYWRkKCdzaGlwJyk7XG4gICAgICBhZGRDZWxsTGlzdGVuZXIoJGNlbGwpO1xuICAgICAgcmV0dXJuICRjZWxsO1xuICB9XG5cbiAgY29uc3QgYWRkQ2VsbExpc3RlbmVyID0gKCRjZWxsKSA9PiB7XG4gICAgaWYgKG1vZGUgPT09ICdQTEFDRScpIHtcbiAgICAgICRjZWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBQbGFjZVNoaXBzLnBsYWNlU2hpcChkZWNvZGVDb29yZHMoJGNlbGwuZ2V0QXR0cmlidXRlKCdkYXRhLWNvb3JkcycpKSk7XG4gICAgICB9KTtcbiAgXG4gICAgICAkY2VsbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgICAgIFBsYWNlU2hpcHMuc2hvd1NoaXAoZGVjb2RlQ29vcmRzKCRjZWxsLmdldEF0dHJpYnV0ZSgnZGF0YS1jb29yZHMnKSkpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgJGNlbGwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBHYW1lQ29udHJvbGxlci5wbGF5VHVybihkZWNvZGVDb29yZHMoJGNlbGwuZ2V0QXR0cmlidXRlKCdkYXRhLWNvb3JkcycpKSk7XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBjZWxsSGl0ID0gKGNvb3JkcykgPT4ge1xuICAgIGNvbnN0IGVuY29kZWRDb29yZHMgPSBgJHtjb29yZHMueH0gJHtjb29yZHMueX1gO1xuICAgIGNvbnN0ICRjZWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmFjdGl2ZSA+IFtkYXRhLWNvb3Jkcz1cIiR7ZW5jb2RlZENvb3Jkc31cIl1gKTtcbiAgICAkY2VsbC5jbGFzc0xpc3QuYWRkKCdoaXQnKTtcbiAgfVxuXG4gIGNvbnN0IHRvZ2dsZUFjdGl2ZUJvYXJkID0gKCkgPT4ge1xuICAgIGNvbnN0ICRnYW1lYm9hcmRDb250YWluZXJzID0gQXJyYXkuZnJvbSgkbWFpbi5jaGlsZHJlbik7XG4gICAgJGdhbWVib2FyZENvbnRhaW5lcnMuZm9yRWFjaCgkZ2FtZWJvYXJkID0+IHtcbiAgICAgICRnYW1lYm9hcmQuZmlyc3RDaGlsZC5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHNoaXBTdW5rID0gKGNvb3Jkc0FycmF5KSA9PiB7XG4gICAgY29vcmRzQXJyYXkuZm9yRWFjaChjb29yZHMgPT4ge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmFjdGl2ZSA+IFtkYXRhLWNvb3Jkcz1cIiR7Y29vcmRzLnh9ICR7Y29vcmRzLnl9XCJdYCkuY2xhc3NMaXN0LmFkZCgnc3VuaycpO1xuICAgIH0pXG4gIH1cblxuICBjb25zdCBuZXdHYW1lYm9hcmRDb250YWluZXJET00gPSAocGxheWVyTmFtZSkgPT4ge1xuICAgIGNvbnN0ICRjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAkY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2NvbnRhaW5lcicpO1xuICAgIGNvbnN0ICRib2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICRib2FyZC5jbGFzc0xpc3QuYWRkKGAke3BsYXllck5hbWV9YCk7XG4gICAgJGJvYXJkLmNsYXNzTGlzdC5hZGQoJ2JvYXJkJyk7XG4gICAgY29uc3QgJHNoaXBzRGlzcGxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICRzaGlwc0Rpc3BsYXkuY2xhc3NMaXN0LmFkZCgnc2hpcHMtZGlzcGxheScpO1xuICAgICRjb250YWluZXIuYXBwZW5kQ2hpbGQoJGJvYXJkKTtcbiAgICAkY29udGFpbmVyLmFwcGVuZENoaWxkKCRzaGlwc0Rpc3BsYXkpO1xuICAgIGlmIChtb2RlID09PSAnUExBQ0UnKSAkbW9kYWwuYXBwZW5kQ2hpbGQoJGNvbnRhaW5lcik7XG4gICAgZWxzZSAkbWFpbi5hcHBlbmRDaGlsZCgkY29udGFpbmVyKTtcbiAgICByZXR1cm4gJGNvbnRhaW5lcjtcbiAgfVxuXG4gIGNvbnN0IHJlbmRlckdhbWVib2FyZCA9IChwbGF5ZXIsIHBsYXllck5hbWUsIGJvYXJkLCBpc0FjdGl2ZSA9IGZhbHNlKSA9PiB7XG4gICAgbW9kZSA9IHBsYXllck5hbWUgPT09ICdzYW1wbGUnID8gJ1BMQUNFJzogJ1BMQVknO1xuICAgIGNvbnN0ICRjb250YWluZXIgPSBuZXdHYW1lYm9hcmRDb250YWluZXJET00ocGxheWVyTmFtZSk7XG4gICAgaWYgKGlzQWN0aXZlKSAkY29udGFpbmVyLmZpcnN0Q2hpbGQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgYm9hcmQuZm9yRWFjaChjZWxsID0+ICRjb250YWluZXIuZmlyc3RDaGlsZC5hcHBlbmRDaGlsZChuZXdDZWxsRE9NKGNlbGwpKSk7XG4gIH1cblxuICBjb25zdCBuZXdTaGlwRE9NID0gKHNoaXAsIGlzUGxhY2VkID0gZmFsc2UpID0+IHtcbiAgICBjb25zdCAkc2hpcENvbnRhaW5lciA9IGNyZWF0ZUh0bWxFbGVtZW50KCdkaXYnLCBbJ3NoaXAtY29udGFpbmVyJ10pO1xuICAgIGlmIChzaGlwLmlzU3VuaygpIHx8IChtb2RlID09PSAnUExBQ0UnICYmIGlzUGxhY2VkKSkgJHNoaXBDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnc3VuaycpO1xuICAgICRzaGlwQ29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZUh0bWxFbGVtZW50KCdkaXYnLCBbJ3NoaXAtbmFtZSddLCBzaGlwLm5hbWUpKTtcbiAgICBjb25zdCAkc2hpcEJvZHkgPSBjcmVhdGVIdG1sRWxlbWVudCgnZGl2JywgWydzaGlwLWJvZHknXSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLmdldExlbmd0aCgpOyBpKyspIHtcbiAgICAgICRzaGlwQm9keS5hcHBlbmRDaGlsZChjcmVhdGVIdG1sRWxlbWVudCgnZGl2JywgWydzaGlwLWNlbGwnXSkpO1xuICAgIH1cbiAgICAkc2hpcENvbnRhaW5lci5hcHBlbmRDaGlsZCgkc2hpcEJvZHkpO1xuICAgIHJldHVybiAkc2hpcENvbnRhaW5lcjtcbiAgfVxuXG4gIGNvbnN0IHVwZGF0ZVNoaXBzRGlzcGxheSA9IChwbGF5ZXJOYW1lLCBzaGlwcywgc2hpcE51bSA9IC0xKSA9PiB7XG4gICAgY29uc3QgJHNoaXBzRGlzcGxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke3BsYXllck5hbWV9YCkubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICRzaGlwc0Rpc3BsYXkudGV4dENvbnRlbnQgPSAnJztcbiAgICBzaGlwcy5mb3JFYWNoKChzaGlwLCBpbmRleCkgPT4ge1xuICAgICAgJHNoaXBzRGlzcGxheS5hcHBlbmRDaGlsZChuZXdTaGlwRE9NKHNoaXAsIGluZGV4IDw9IHNoaXBOdW0pKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcmVuZGVyR2FtZWJvYXJkLFxuICAgIHVwZGF0ZVNoaXBzRGlzcGxheSxcbiAgICBjZWxsSGl0LFxuICAgIHNoaXBTdW5rLFxuICAgIHRvZ2dsZUFjdGl2ZUJvYXJkLFxuICB9O1xuXG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBVSTsiLCJpbXBvcnQgVUkgZnJvbSBcIi4uL01vZHVsZXMvVUlcIjtcblxuY29uc3QgR2FtZWJvYXJkID0gKHNpemUpID0+IHtcblxuICBsZXQgc2hpcHMgPSBbXTtcbiAgbGV0IHN1bmsgPSAwO1xuXG4gIGNvbnN0IGNlbGwgPSAoeCwgeSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBjb29yZHM6IHt4LCB5fSxcbiAgICAgIGhhc1NoaXA6ICcnLFxuICAgICAgaXNTaG90OiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBjb25zdCBfbWFrZUdyaWQgPSAoc2l6ZSkgPT4ge1xuICAgIGNvbnN0IGFyciA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZSAqIHNpemU7IGkrKykge1xuICAgICAgYXJyLnB1c2goY2VsbChpICUgc2l6ZSwgTWF0aC5mbG9vcihpIC8gc2l6ZSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIGNvbnN0IGJvYXJkID0gX21ha2VHcmlkKHNpemUpO1xuICBjb25zdCBhdCA9IChjb29yZHMpID0+IGJvYXJkW2Nvb3Jkcy54ICsgY29vcmRzLnkgKiBzaXplXTtcblxuICBjb25zdCBpc1ZhbGlkQXR0YWNrID0gKGNvb3JkcykgPT4ge1xuICAgIHJldHVybiAhYXQoY29vcmRzKS5pc1Nob3Q7XG4gIH1cblxuICBjb25zdCBpc1NoaXBIaXQgPSAoY29vcmRzKSA9PiB7XG4gICAgcmV0dXJuIGF0KGNvb3JkcykuaGFzU2hpcCAhPT0gJyc7XG4gIH1cblxuICBjb25zdCByZWNlaXZlQXR0YWNrID0gKGNvb3JkcykgPT4ge1xuICAgIGNvbnN0IGNlbGwgPSBhdChjb29yZHMpO1xuICAgIGNlbGwuaXNTaG90ID0gdHJ1ZTtcbiAgICBVSS5jZWxsSGl0KGNvb3Jkcyk7XG4gICAgaWYgKGNlbGwuaGFzU2hpcCkge1xuICAgICAgY29uc3Qgc2hpcCA9IHNoaXBzLmZpbmQoc2hpcCA9PiBzaGlwLm5hbWUgPT09IGNlbGwuaGFzU2hpcCk7XG4gICAgICBzaGlwLmhpdCgpO1xuICAgICAgaWYgKHNoaXAuaXNTdW5rKCkpIHNoaXBTdW5rKHNoaXAubmFtZSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc2V0U2hpcCA9IChzaGlwLCBjb29yZHMsIGF4aXMgPSAneCcpID0+IHtcbiAgICBzaGlwcy5wdXNoKHNoaXApO1xuICAgIGxldCBuZXdDb29yZHMgPSBjb29yZHM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLmdldExlbmd0aCgpOyBpKyspIHtcbiAgICAgIGF0KG5ld0Nvb3JkcykuaGFzU2hpcCA9IHNoaXAubmFtZTtcbiAgICAgIGF4aXMgPT09ICd4JyA/IG5ld0Nvb3Jkcy54Kys6IG5ld0Nvb3Jkcy55Kys7XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc2hpcFN1bmsgPSAoc2hpcE5hbWUpID0+IHtcbiAgICBzdW5rKys7XG4gICAgY29uc3QgY29vcmRzQXJyYXkgPSBib2FyZC5maWx0ZXIoY2VsbCA9PiBjZWxsLmhhc1NoaXAgPT09IHNoaXBOYW1lKS5tYXAoY2VsbCA9PiBjZWxsLmNvb3Jkcyk7XG4gICAgVUkuc2hpcFN1bmsoY29vcmRzQXJyYXkpO1xuICB9XG5cbiAgY29uc3QgaXNDb2xsaXNpb25zID0gKHNoaXBDb29yZHNBcnJheSkgPT4ge1xuICAgIGZvciAoY29uc3Qgc2hpcENvb3JkcyBvZiBzaGlwQ29vcmRzQXJyYXkpIHtcbiAgICAgIGlmIChzaGlwQ29vcmRzLnggPiBzaXplIC0gMSB8fCBzaGlwQ29vcmRzLnkgPiBzaXplIC0gMSkgcmV0dXJuIHRydWU7XG4gICAgICBpZiAoYXQoc2hpcENvb3JkcykuaGFzU2hpcCAhPT0gJycpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCByZXNldCA9ICgpID0+IHtcbiAgICBzaGlwcyA9IFtdO1xuICAgIGZvciAoY29uc3QgY2VsbCBvZiBib2FyZCkge1xuICAgICAgY2VsbC5pc1Nob3QgPSBmYWxzZTtcbiAgICAgIGNlbGwuaGFzU2hpcCA9ICcnO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGFsbFNoaXBzU3VuayA9ICgpID0+IHtcbiAgICByZXR1cm4gc3VuayA+PSBzaGlwcy5sZW5ndGg7XG4gIH1cblxuICBjb25zdCBnZXRCb2FyZCA9ICgpID0+IGJvYXJkO1xuICBjb25zdCBnZXRTaGlwcyA9ICgpID0+IHNoaXBzO1xuXG4gIHJldHVybiB7XG4gICAgYXQsXG4gICAgaXNWYWxpZEF0dGFjayxcbiAgICBpc1NoaXBIaXQsXG4gICAgcmVjZWl2ZUF0dGFjayxcbiAgICBzZXRTaGlwLFxuICAgIGlzQ29sbGlzaW9ucyxcbiAgICBnZXRCb2FyZCxcbiAgICBnZXRTaGlwcyxcbiAgICByZXNldCxcbiAgICBhbGxTaGlwc1N1bmtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgR2FtZWJvYXJkOyIsImltcG9ydCBHYW1lYm9hcmQgZnJvbSBcIi4vR2FtZWJvYXJkXCJcblxuY29uc3QgUGxheWVyID0gKG5hbWUpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lLFxuICAgIGdhbWVib2FyZDogR2FtZWJvYXJkKDEwKSxcbiAgICBpc0FjdGl2ZTogZmFsc2UsXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBsYXllcjsiLCJjb25zdCBTaGlwID0gKGxlbmd0aCwgbmFtZSkgPT4ge1xuICBjb25zdCBzaGlwTGVuZ3RoID0gbGVuZ3RoO1xuICBsZXQgaGl0Q291bnQgPSAwO1xuXG4gIC8vIEdldHRlcnNcbiAgY29uc3QgZ2V0TGVuZ3RoID0gKCkgPT4gc2hpcExlbmd0aDtcbiAgY29uc3QgZ2V0SGl0cyA9ICgpID0+IGhpdENvdW50O1xuXG4gIGNvbnN0IGhpdCA9ICgpID0+IHtcbiAgICBoaXRDb3VudCsrO1xuICB9XG5cbiAgY29uc3QgaXNTdW5rID0gKCkgPT4ge1xuICAgIHJldHVybiBoaXRDb3VudCA+PSBzaGlwTGVuZ3RoO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lLFxuICAgIGdldExlbmd0aCxcbiAgICBnZXRIaXRzLFxuICAgIGhpdCxcbiAgICBpc1N1bmssXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNoaXA7IiwiaW1wb3J0IFBsYXllciBmcm9tIFwiLi4vRmFjdG9yaWVzL1BsYXllclwiO1xuaW1wb3J0IFNoaXAgZnJvbSBcIi4uL0ZhY3Rvcmllcy9TaGlwXCI7XG5cbmNvbnN0IEFJID0gKCgpID0+IHtcblxuICBjb25zdCBBSXBsYXllciA9IFBsYXllcignQUknKTtcbiAgY29uc3Qgc2hpcHMgPSBbU2hpcCg1LCAnQ2FycmllcicpLCBTaGlwKDQsICdCYXR0bGVzaGlwJyksIFNoaXAoMywgJ0NydWlzZXInKSwgU2hpcCgzLCAnU3VibWFyaW5lJyksIFNoaXAoMiwgJ0Rlc3Ryb3llcicpXTtcblxuICBjb25zdCBwbGFjZVNoaXBzID0gKCkgPT4ge1xuICAgIEFJcGxheWVyLmdhbWVib2FyZC5zZXRTaGlwKHNoaXBzWzBdLCB7eDogMCwgeTogMH0sICd4Jyk7XG4gICAgQUlwbGF5ZXIuZ2FtZWJvYXJkLnNldFNoaXAoc2hpcHNbMV0sIHt4OiA5LCB5OiA2fSwgJ3knKTtcbiAgICBBSXBsYXllci5nYW1lYm9hcmQuc2V0U2hpcChzaGlwc1syXSwge3g6IDEsIHk6IDd9LCAneScpO1xuICAgIEFJcGxheWVyLmdhbWVib2FyZC5zZXRTaGlwKHNoaXBzWzNdLCB7eDogNywgeTogMX0sICd4Jyk7XG4gICAgQUlwbGF5ZXIuZ2FtZWJvYXJkLnNldFNoaXAoc2hpcHNbNF0sIHt4OiA0LCB5OiAzfSwgJ3gnKTtcbiAgfVxuXG4gIGNvbnN0IGdldENvb3JkcyA9IChib2FyZCkgPT4ge1xuICAgIGNvbnN0IHZhbGlkQ2VsbHMgPSBib2FyZC5maWx0ZXIoY2VsbCA9PiAhY2VsbC5pc1Nob3QpO1xuICAgIGNvbnN0IGNvb3JkcyA9IHZhbGlkQ2VsbHNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdmFsaWRDZWxscy5sZW5ndGgpXS5jb29yZHM7XG4gICAgcmV0dXJuIGNvb3JkcztcbiAgfTtcblxuICBjb25zdCBnZXRBSVBsYXllciA9ICgpID0+IHtcbiAgICBwbGFjZVNoaXBzKCk7XG4gICAgcmV0dXJuIEFJcGxheWVyO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRDb29yZHMsXG4gICAgZ2V0QUlQbGF5ZXIsXG4gIH07XG5cbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IEFJOyIsImltcG9ydCBQbGF5ZXIgZnJvbSBcIi4uL0ZhY3Rvcmllcy9QbGF5ZXJcIjtcbmltcG9ydCBVSSBmcm9tIFwiLi9VSVwiO1xuaW1wb3J0IEFJIGZyb20gXCIuL0FJUGxheWVyXCI7XG5pbXBvcnQgUGxhY2VTaGlwcyBmcm9tIFwiLi9QbGFjZVNoaXBzXCI7XG5cbmNvbnN0IEdhbWVDb250cm9sbGVyID0gKCgpID0+IHtcblxuICBjb25zdCBwbGF5ZXIxID0gUGxheWVyKCdQMScpO1xuICBjb25zdCBwbGF5ZXIyID0gUGxheWVyKCdQMicpO1xuXG4gIGZ1bmN0aW9uIHNsZWVwKG1zKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xuICB9IFxuXG4gIGNvbnN0IG9wcG9uZW50ID0gKCkgPT4ge1xuICAgIHJldHVybiBwbGF5ZXIxLmlzQWN0aXZlID8gcGxheWVyMjogcGxheWVyMTtcbiAgfVxuXG4gIGNvbnN0IHRvZ2dsZUFjdGl2ZVBsYXllciA9ICgpID0+IHtcbiAgICBwbGF5ZXIxLmlzQWN0aXZlID0gIXBsYXllcjEuaXNBY3RpdmU7XG4gICAgcGxheWVyMi5pc0FjdGl2ZSA9ICFwbGF5ZXIyLmlzQWN0aXZlO1xuICAgIFVJLnRvZ2dsZUFjdGl2ZUJvYXJkKCk7XG4gIH1cblxuICBjb25zdCBpbml0UGxheWVyMSA9ICgpID0+IHtcbiAgICBwbGF5ZXIxLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICBwbGF5ZXIxLmdhbWVib2FyZCA9IFBsYWNlU2hpcHMuZ2V0U2FtcGxlUGxheWVyKCkuZ2FtZWJvYXJkO1xuICAgIFVJLnJlbmRlckdhbWVib2FyZCgnUDEnLCBwbGF5ZXIxLm5hbWUsIHBsYXllcjEuZ2FtZWJvYXJkLmdldEJvYXJkKCkpO1xuICAgIFVJLnVwZGF0ZVNoaXBzRGlzcGxheShwbGF5ZXIxLm5hbWUsIHBsYXllcjEuZ2FtZWJvYXJkLmdldFNoaXBzKCkpO1xuICB9XG5cbiAgY29uc3QgaW5pdFBsYXllcjIgPSAoKSA9PiB7XG4gICAgcGxheWVyMi5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgIHBsYXllcjIuZ2FtZWJvYXJkID0gQUkuZ2V0QUlQbGF5ZXIoKS5nYW1lYm9hcmQ7XG4gICAgVUkucmVuZGVyR2FtZWJvYXJkKCdQMicsIHBsYXllcjIubmFtZSwgcGxheWVyMi5nYW1lYm9hcmQuZ2V0Qm9hcmQoKSwgdHJ1ZSk7XG4gICAgVUkudXBkYXRlU2hpcHNEaXNwbGF5KHBsYXllcjIubmFtZSwgcGxheWVyMi5nYW1lYm9hcmQuZ2V0U2hpcHMoKSk7XG5cbiAgfVxuXG4gIGNvbnN0IHBsYXlUdXJuID0gKGNvb3JkcykgPT4ge1xuICAgIGNvbnN0IG9wcG9uZW50Qm9hcmQgPSBvcHBvbmVudCgpLmdhbWVib2FyZDtcbiAgICBpZiAoIW9wcG9uZW50Qm9hcmQuaXNWYWxpZEF0dGFjayhjb29yZHMpKSByZXR1cm47XG4gICAgb3Bwb25lbnRCb2FyZC5yZWNlaXZlQXR0YWNrKGNvb3Jkcyk7XG4gICAgVUkudXBkYXRlU2hpcHNEaXNwbGF5KG9wcG9uZW50KCkubmFtZSwgb3Bwb25lbnRCb2FyZC5nZXRTaGlwcygpKTtcbiAgICBpZiAoIW9wcG9uZW50Qm9hcmQuaXNTaGlwSGl0KGNvb3JkcykpIHRvZ2dsZUFjdGl2ZVBsYXllcigpO1xuICAgIGVsc2UgaWYgKG9wcG9uZW50Qm9hcmQuYWxsU2hpcHNTdW5rKCkpIGNvbnNvbGUubG9nKCdwbGF5ZXIgd2lucycpO1xuICAgIHBsYXlHYW1lKCk7XG4gIH1cblxuICBjb25zdCBwbGF5R2FtZSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAocGxheWVyMi5pc0FjdGl2ZSkge1xuICAgICAgYXdhaXQgc2xlZXAoMzAwKTtcbiAgICAgIHBsYXlUdXJuKEFJLmdldENvb3JkcyhvcHBvbmVudCgpLmdhbWVib2FyZC5nZXRCb2FyZCgpKSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgaW5pdCA9ICgpID0+IHtcbiAgICBpbml0UGxheWVyMSgpO1xuICAgIGluaXRQbGF5ZXIyKCk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBpbml0LFxuICAgIHBsYXlUdXJuLFxuICB9O1xuXG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBHYW1lQ29udHJvbGxlcjsiLCJpbXBvcnQgR2FtZUNvbnRyb2xsZXIgZnJvbSBcIi4vR2FtZUNvbnRyb2xsZXJcIjtcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4uL0ZhY3Rvcmllcy9QbGF5ZXJcIjtcbmltcG9ydCBTaGlwIGZyb20gXCIuLi9GYWN0b3JpZXMvU2hpcFwiO1xuaW1wb3J0IFVJIGZyb20gXCIuL1VJXCI7XG5cbmNvbnN0IFBsYWNlU2hpcHMgPSAoKCkgPT4ge1xuICBjb25zdCBwbGF5ZXIgPSBQbGF5ZXIoJ3NhbXBsZScpO1xuICBjb25zdCBzaGlwcyA9IFtTaGlwKDUsICdDYXJyaWVyJyksIFNoaXAoNCwgJ0JhdHRsZXNoaXAnKSwgU2hpcCgzLCAnQ3J1aXNlcicpLCBTaGlwKDMsICdTdWJtYXJpbmUnKSwgU2hpcCgyLCAnRGVzdHJveWVyJyldO1xuICBsZXQgY3VycmVudCA9IHtcbiAgICBzaGlwTnVtOiAwLFxuICAgIHNoaXBDb29yZHNBcnJheTogW10sXG4gICAgYXhpczogJ3gnXG4gIH07XG4gIGNvbnN0ICRtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbCcpO1xuICBjb25zdCAkcGxheUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbi5wbGF5Jyk7XG4gIGNvbnN0ICRyZXNldEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbi5yZXNldCcpO1xuXG4gIC8vIFV0aWwgXG5cbiAgY29uc3QgY2VsbEF0ID0gKGNvb3JkcykgPT4ge1xuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1jb29yZHM9XCIke2Nvb3Jkcy54fSAke2Nvb3Jkcy55fVwiXWApO1xuICB9XG5cbiAgLy8gRE9NXG5cbiAgY29uc3Qgc2hvd1NoaXAgPSAoY29vcmRzKSA9PiB7XG4gICAgaWYgKGN1cnJlbnQuc2hpcE51bSA+PSBzaGlwcy5sZW5ndGgpIHJldHVybjtcbiAgICBpZiAoY3VycmVudC5zaGlwQ29vcmRzQXJyYXkubGVuZ3RoICE9PSAwKSB7XG4gICAgICBjdXJyZW50LnNoaXBDb29yZHNBcnJheS5mb3JFYWNoKGNvb3JkcyA9PiB7XG4gICAgICAgIGNlbGxBdChjb29yZHMpLmNsYXNzTGlzdC5yZW1vdmUoJ3RlbXAnKTtcbiAgICAgICAgY2VsbEF0KGNvb3JkcykuY2xhc3NMaXN0LnJlbW92ZSgnaW52YWxpZCcpO1xuICAgICAgfSlcbiAgICB9XG4gICAgY3VycmVudC5zaGlwQ29vcmRzQXJyYXkgPSBtYWtlU2hpcChjb29yZHMpO1xuICAgIGN1cnJlbnQuc2hpcENvb3Jkc0FycmF5LmZvckVhY2goY29vcmRzID0+IHtcbiAgICAgIGNlbGxBdChjb29yZHMpLmNsYXNzTGlzdC5hZGQoXCJ0ZW1wXCIpO1xuICAgIH0pXG4gICAgaWYgKCFpc1NoaXBWYWxpZCgpKSB7XG4gICAgICBjdXJyZW50LnNoaXBDb29yZHNBcnJheS5mb3JFYWNoKGNvb3JkcyA9PiB7XG4gICAgICAgIGNlbGxBdChjb29yZHMpLmNsYXNzTGlzdC5hZGQoXCJpbnZhbGlkXCIpO1xuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBtYWtlU2hpcCA9IChjb29yZHMpID0+IHtcbiAgICBsZXQgc2hpcENvb3Jkc0FycmF5ID0gW107XG4gICAgbGV0IG5ld0Nvb3JkcyA9IGNvb3JkcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXBzW2N1cnJlbnQuc2hpcE51bV0uZ2V0TGVuZ3RoKCk7IGkrKykge1xuICAgICAgc2hpcENvb3Jkc0FycmF5LnB1c2goe3g6IG5ld0Nvb3Jkcy54LCB5OiBuZXdDb29yZHMueX0pO1xuICAgICAgY3VycmVudC5heGlzID09PSAneCcgPyBuZXdDb29yZHMueCsrOiBuZXdDb29yZHMueSsrO1xuICAgICAgaWYgKG5ld0Nvb3Jkcy54ID4gOSB8fCBuZXdDb29yZHMueSA+IDkpIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gc2hpcENvb3Jkc0FycmF5O1xuICB9XG5cbiAgY29uc3QgaXNTaGlwVmFsaWQgPSAoKSA9PiB7XG4gICAgcmV0dXJuICghcGxheWVyLmdhbWVib2FyZC5pc0NvbGxpc2lvbnMoY3VycmVudC5zaGlwQ29vcmRzQXJyYXkpICYmIFxuICAgICAgICAgIGN1cnJlbnQuc2hpcENvb3Jkc0FycmF5Lmxlbmd0aCA9PT0gc2hpcHNbY3VycmVudC5zaGlwTnVtXS5nZXRMZW5ndGgoKSk7XG4gIH1cblxuICBcbiAgY29uc3QgcGxhY2VTaGlwID0gKGNvb3JkcykgPT4ge1xuICAgIGlmICghaXNTaGlwVmFsaWQoKSkgcmV0dXJuO1xuICAgIHBsYXllci5nYW1lYm9hcmQuc2V0U2hpcChzaGlwc1tjdXJyZW50LnNoaXBOdW0rK10sIGNvb3JkcywgY3VycmVudC5heGlzKTtcbiAgICBjdXJyZW50LnNoaXBDb29yZHNBcnJheS5mb3JFYWNoKGNvb3JkcyA9PiB7XG4gICAgICBjZWxsQXQoY29vcmRzKS5jbGFzc0xpc3QuYWRkKCdzaGlwJyk7XG4gICAgICBjZWxsQXQoY29vcmRzKS5jbGFzc0xpc3QucmVtb3ZlKCd0ZW1wJyk7XG4gICAgfSk7XG4gICAgVUkudXBkYXRlU2hpcHNEaXNwbGF5KHBsYXllci5uYW1lLCBzaGlwcywgY3VycmVudC5zaGlwTnVtIC0gMSk7XG4gICAgaWYgKGN1cnJlbnQuc2hpcE51bSA9PT0gc2hpcHMubGVuZ3RoKSB7XG4gICAgICAkcGxheUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9XG4gIH1cblxuICBjb25zdCByZXNldCA9ICgpID0+IHtcbiAgICBwbGF5ZXIuZ2FtZWJvYXJkLnJlc2V0KCk7XG4gICAgcGxheWVyLmdhbWVib2FyZC5nZXRCb2FyZCgpLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICBjZWxsQXQoY2VsbC5jb29yZHMpLmNsYXNzTGlzdC5yZW1vdmUoJ3NoaXAnKTtcbiAgICAgIGNlbGxBdChjZWxsLmNvb3JkcykuY2xhc3NMaXN0LnJlbW92ZSgndGVtcCcpO1xuICAgIH0pO1xuICAgIGNvbnN0ICRzaGlwQ29udGFpbmVycyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNoaXBzLWRpc3BsYXknKS5jaGlsZHJlbik7XG4gICAgJHNoaXBDb250YWluZXJzLmZvckVhY2goJHNoaXBDb250YWluZXIgPT4gJHNoaXBDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnc3VuaycpKTtcbiAgICBjdXJyZW50ID0ge1xuICAgICAgc2hpcE51bTogMCxcbiAgICAgIHNoaXBDb29yZHNBcnJheTogW10sXG4gICAgICBheGlzOiAneCdcbiAgICB9O1xuICAgICRwbGF5QnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIH1cbiAgXG4gIGNvbnN0IGdldFNhbXBsZVBsYXllciA9ICgpID0+IHBsYXllcjtcblxuICBjb25zdCBpbml0ID0gKCkgPT4ge1xuICAgIFVJLnJlbmRlckdhbWVib2FyZCgnc2FtcGxlJywgcGxheWVyLm5hbWUsIHBsYXllci5nYW1lYm9hcmQuZ2V0Qm9hcmQoKSk7XG4gICAgVUkudXBkYXRlU2hpcHNEaXNwbGF5KHBsYXllci5uYW1lLCBzaGlwcyk7XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsICh7IGtleSB9KSA9PiB7XG4gICAgICBpZiAoa2V5ID09PSAnUicgfHwga2V5ID09PSAncicpIHtcbiAgICAgICAgY3VycmVudC5heGlzID0gY3VycmVudC5heGlzID09PSAneCcgPyAneSc6ICd4JztcbiAgICAgICAgc2hvd1NoaXAoY3VycmVudC5zaGlwQ29vcmRzQXJyYXlbMF0sIGN1cnJlbnQuYXhpcyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAkcGxheUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICRtb2RhbC5yZW1vdmUoKTtcbiAgICAgIEdhbWVDb250cm9sbGVyLmluaXQoKTtcbiAgICB9KVxuXG4gICAgJHJlc2V0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVzZXQpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpbml0LFxuICAgIHBsYWNlU2hpcCxcbiAgICBzaG93U2hpcCxcbiAgICBnZXRTYW1wbGVQbGF5ZXIsXG4gIH1cblxufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgUGxhY2VTaGlwczsiLCIvLyBpbXBvcnQgR2FtZUNvbnRyb2xsZXIgZnJvbSBcIi4vTW9kdWxlcy9HYW1lQ29udHJvbGxlclwiO1xuaW1wb3J0IFBsYWNlU2hpcHMgZnJvbSBcIi4vTW9kdWxlcy9QbGFjZVNoaXBzXCI7XG5cblBsYWNlU2hpcHMuaW5pdCgpOyJdLCJuYW1lcyI6WyIkbWFpbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIiRtb2RhbCIsIm1vZGUiLCJkZWNvZGVDb29yZHMiLCJjb29yZHNTdHJpbmciLCJjb29yZHNBcnJheSIsInNwbGl0IiwieCIsInkiLCJjcmVhdGVIdG1sRWxlbWVudCIsInR5cGUiLCJjbGFzc0FycmF5IiwidGV4dCIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZm9yRWFjaCIsImNscyIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwicmVuZGVyR2FtZWJvYXJkIiwicGxheWVyIiwicGxheWVyTmFtZSIsImJvYXJkIiwiaXNBY3RpdmUiLCIkY29udGFpbmVyIiwiJGJvYXJkIiwiJHNoaXBzRGlzcGxheSIsImFwcGVuZENoaWxkIiwibmV3R2FtZWJvYXJkQ29udGFpbmVyRE9NIiwiZmlyc3RDaGlsZCIsImNlbGwiLCIkY2VsbCIsInNldEF0dHJpYnV0ZSIsImNvb3JkcyIsImhhc1NoaXAiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2V0QXR0cmlidXRlIiwiYWRkQ2VsbExpc3RlbmVyIiwibmV3Q2VsbERPTSIsInVwZGF0ZVNoaXBzRGlzcGxheSIsInNoaXBzIiwic2hpcE51bSIsIm5leHRFbGVtZW50U2libGluZyIsInNoaXAiLCJpbmRleCIsImlzUGxhY2VkIiwiJHNoaXBDb250YWluZXIiLCJpc1N1bmsiLCJuYW1lIiwiJHNoaXBCb2R5IiwiaSIsImdldExlbmd0aCIsIm5ld1NoaXBET00iLCJjZWxsSGl0IiwiZW5jb2RlZENvb3JkcyIsInNoaXBTdW5rIiwidG9nZ2xlQWN0aXZlQm9hcmQiLCJBcnJheSIsImZyb20iLCJjaGlsZHJlbiIsIiRnYW1lYm9hcmQiLCJ0b2dnbGUiLCJzaXplIiwic3VuayIsImFyciIsInB1c2giLCJNYXRoIiwiZmxvb3IiLCJpc1Nob3QiLCJfbWFrZUdyaWQiLCJhdCIsImlzVmFsaWRBdHRhY2siLCJpc1NoaXBIaXQiLCJyZWNlaXZlQXR0YWNrIiwiZmluZCIsImhpdCIsInNoaXBOYW1lIiwiZmlsdGVyIiwibWFwIiwic2V0U2hpcCIsImF4aXMiLCJuZXdDb29yZHMiLCJpc0NvbGxpc2lvbnMiLCJzaGlwQ29vcmRzQXJyYXkiLCJzaGlwQ29vcmRzIiwiZ2V0Qm9hcmQiLCJnZXRTaGlwcyIsInJlc2V0IiwiYWxsU2hpcHNTdW5rIiwibGVuZ3RoIiwiZ2FtZWJvYXJkIiwic2hpcExlbmd0aCIsImhpdENvdW50IiwiZ2V0SGl0cyIsIkFJcGxheWVyIiwiZ2V0Q29vcmRzIiwidmFsaWRDZWxscyIsInJhbmRvbSIsImdldEFJUGxheWVyIiwicGxheWVyMSIsInBsYXllcjIiLCJvcHBvbmVudCIsInBsYXlUdXJuIiwib3Bwb25lbnRCb2FyZCIsImNvbnNvbGUiLCJsb2ciLCJwbGF5R2FtZSIsImFzeW5jIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiaW5pdCIsImN1cnJlbnQiLCIkcGxheUJ1dHRvbiIsIiRyZXNldEJ1dHRvbiIsImNlbGxBdCIsInNob3dTaGlwIiwicmVtb3ZlIiwibWFrZVNoaXAiLCJpc1NoaXBWYWxpZCIsInN0eWxlIiwiZGlzcGxheSIsImtleSIsInBsYWNlU2hpcCIsImdldFNhbXBsZVBsYXllciJdLCJzb3VyY2VSb290IjoiIn0=