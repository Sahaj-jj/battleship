(()=>{"use strict";const t=t=>{const e=[],a=(t=>{const e=[];for(let a=0;a<t*t;a++)e.push({coords:{x:a%t,y:Math.floor(a/t)},hasShip:"",isShot:!1});return e})(t),r=e=>a[e.x+e.y*t];return{at:r,receiveAttack:t=>{const a=r(t);a.isShot||(a.isShot=!0,a.hasShip&&e.find((t=>t.name===a.hasShip)).hit())},setShip:(t,a,s="x")=>{e.push(t);let i=a;for(let e=0;e<t.getLength();e++)r(i).hasShip=t.name,"x"===s?i.x++:i.y++},getBoard:()=>a}},e=e=>({name:e,gameboard:t(10),isActive:!1}),a=(t,e)=>{const a=t;let r=0;return{name:e,getLength:()=>a,getHits:()=>r,hit:()=>{r++},isSunk:()=>a===r}},r=(()=>{const t=document.querySelector(".P1"),e=document.querySelector(".P2"),a=(a,r)=>{const i="P1"===a?t:e;r.forEach((t=>i.appendChild((t=>{const e=document.createElement("div");return e.classList.add("cell"),e.setAttribute("data-coords",`${t.coords.x} ${t.coords.y}`),t.hasShip&&e.classList.add("ship"),(t=>{t.addEventListener("click",(()=>{const e=t.getAttribute("data-coords").split(" "),a={x:+e[0],y:+e[1]};s.fireAttack(a)}))})(e),e})(t))))};return{init:()=>{a()},renderGameboard:a}})(),s=(()=>{const t=e("p1"),s=e("p2");return{init:()=>{(()=>{t.isActive=!0;let e=[a(4,"a"),a(2,"b")];t.gameboard.setShip(e[0],{x:1,y:2},"x"),t.gameboard.setShip(e[1],{x:2,y:5},"y"),r.renderGameboard("P1",t.gameboard.getBoard())})(),s.ships=[a(3,"a"),a(2,"b")],s.gameboard.setShip(s.ships[0],{x:1,y:1},"x"),s.gameboard.setShip(s.ships[1],{x:2,y:5},"y"),r.renderGameboard("P2",s.gameboard.getBoard())},fireAttack:e=>{(t.isActive?t:s).gameboard.receiveAttack(e)}}})();s.init()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFRdEQsTUFBUSxDQUFDLEVBQUssRUFBRyxLQUFNLEVBQUssRUFBRyxNQUN2Q3NELEVBQVE3QixVQUFVTCxRQUFRa0MsRUFBUXRELE1BQU0sR0FBSSxDQUFDTSxFQUFHLEVBQUdDLEVBQUcsR0FBSSxLQUMxRCtDLEVBQVE3QixVQUFVTCxRQUFRa0MsRUFBUXRELE1BQU0sR0FBSSxDQUFDTSxFQUFHLEVBQUdDLEVBQUcsR0FBSSxLQUMxRCxrQkFBbUIsS0FBTStDLEVBQVE3QixVQUFVRCxhQXVCM0NnQyxXQXBCa0JuRCxLQWxCWGdELEVBQVEzQixTQUFXMkIsRUFBU0MsR0FtQnBCN0IsVUFBVVgsY0FBY1QsTUF6QnBCLEdDRnZCLFUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL0ZhY3Rvcmllcy9HYW1lYm9hcmQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9GYWN0b3JpZXMvUGxheWVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvRmFjdG9yaWVzL1NoaXAuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9Nb2R1bGVzL1VJLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvTW9kdWxlcy9HYW1lQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEdhbWVib2FyZCA9IChzaXplKSA9PiB7XG5cbiAgY29uc3Qgc2hpcHMgPSBbXTtcblxuICBjb25zdCBjZWxsID0gKHgsIHkpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgY29vcmRzOiB7eCwgeX0sXG4gICAgICBoYXNTaGlwOiAnJyxcbiAgICAgIGlzU2hvdDogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgY29uc3QgX21ha2VHcmlkID0gKHNpemUpID0+IHtcbiAgICBjb25zdCBhcnIgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemUgKiBzaXplOyBpKyspIHtcbiAgICAgIGFyci5wdXNoKGNlbGwoaSAlIHNpemUsIE1hdGguZmxvb3IoaSAvIHNpemUpKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICBjb25zdCBib2FyZCA9IF9tYWtlR3JpZChzaXplKTtcbiAgY29uc3QgYXQgPSAoY29vcmRzKSA9PiBib2FyZFtjb29yZHMueCArIGNvb3Jkcy55ICogc2l6ZV07XG5cbiAgY29uc3QgcmVjZWl2ZUF0dGFjayA9IChjb29yZHMpID0+IHtcbiAgICBjb25zdCBjZWxsID0gYXQoY29vcmRzKTtcbiAgICBpZiAoY2VsbC5pc1Nob3QpIHJldHVybjtcbiAgICBjZWxsLmlzU2hvdCA9IHRydWU7XG4gICAgaWYgKGNlbGwuaGFzU2hpcCkgc2hpcHMuZmluZChzaGlwID0+IHNoaXAubmFtZSA9PT0gY2VsbC5oYXNTaGlwKS5oaXQoKTtcbiAgfVxuXG4gIGNvbnN0IHNldFNoaXAgPSAoc2hpcCwgY29vcmRzLCBheGlzID0gJ3gnKSA9PiB7XG4gICAgc2hpcHMucHVzaChzaGlwKTtcbiAgICBsZXQgbmV3Q29vcmRzID0gY29vcmRzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5nZXRMZW5ndGgoKTsgaSsrKSB7XG4gICAgICBhdChuZXdDb29yZHMpLmhhc1NoaXAgPSBzaGlwLm5hbWU7XG4gICAgICBheGlzID09PSAneCcgPyBuZXdDb29yZHMueCsrOiBuZXdDb29yZHMueSsrO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGdldEJvYXJkID0gKCkgPT4gYm9hcmQ7XG5cbiAgcmV0dXJuIHtcbiAgICBhdCxcbiAgICByZWNlaXZlQXR0YWNrLFxuICAgIHNldFNoaXAsXG4gICAgZ2V0Qm9hcmQsXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdhbWVib2FyZDsiLCJpbXBvcnQgR2FtZWJvYXJkIGZyb20gXCIuL0dhbWVib2FyZFwiXG5cbmNvbnN0IFBsYXllciA9IChuYW1lKSA9PiB7XG4gIHJldHVybiB7XG4gICAgbmFtZSxcbiAgICBnYW1lYm9hcmQ6IEdhbWVib2FyZCgxMCksXG4gICAgaXNBY3RpdmU6IGZhbHNlXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBsYXllcjsiLCJjb25zdCBTaGlwID0gKGxlbmd0aCwgbmFtZSkgPT4ge1xuICBjb25zdCBzaGlwTGVuZ3RoID0gbGVuZ3RoO1xuICBsZXQgaGl0Q291bnQgPSAwO1xuXG4gIC8vIEdldHRlcnNcbiAgY29uc3QgZ2V0TGVuZ3RoID0gKCkgPT4gc2hpcExlbmd0aDtcbiAgY29uc3QgZ2V0SGl0cyA9ICgpID0+IGhpdENvdW50O1xuXG4gIGNvbnN0IGhpdCA9ICgpID0+IHtcbiAgICBoaXRDb3VudCsrO1xuICB9XG5cbiAgY29uc3QgaXNTdW5rID0gKCkgPT4ge1xuICAgIHJldHVybiBzaGlwTGVuZ3RoID09PSBoaXRDb3VudDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbmFtZSxcbiAgICBnZXRMZW5ndGgsXG4gICAgZ2V0SGl0cyxcbiAgICBoaXQsXG4gICAgaXNTdW5rLFxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBTaGlwOyIsImltcG9ydCBHYW1lQ29udHJvbGxlciBmcm9tIFwiLi9HYW1lQ29udHJvbGxlclwiO1xuXG5cbmNvbnN0IFVJID0gKCgpID0+IHtcbiAgY29uc3QgJHAxR2FtZWJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlAxJyk7XG4gIGNvbnN0ICRwMkdhbWVib2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5QMicpO1xuICBcbiAgY29uc3QgbmV3Q2VsbERPTSA9IChjZWxsKSA9PiB7XG4gICAgICBjb25zdCAkY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgJGNlbGwuY2xhc3NMaXN0LmFkZCgnY2VsbCcpO1xuICAgICAgJGNlbGwuc2V0QXR0cmlidXRlKCdkYXRhLWNvb3JkcycsIGAke2NlbGwuY29vcmRzLnh9ICR7Y2VsbC5jb29yZHMueX1gKTtcbiAgICAgIGlmIChjZWxsLmhhc1NoaXApICRjZWxsLmNsYXNzTGlzdC5hZGQoJ3NoaXAnKTtcbiAgICAgIGFkZENlbGxMaXN0ZW5lcigkY2VsbCk7XG4gICAgICByZXR1cm4gJGNlbGw7XG4gIH1cblxuICBjb25zdCBhZGRDZWxsTGlzdGVuZXIgPSAoJGNlbGwpID0+IHtcbiAgICAkY2VsbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvb3Jkc0FycmF5ID0gJGNlbGwuZ2V0QXR0cmlidXRlKCdkYXRhLWNvb3JkcycpLnNwbGl0KCcgJyk7XG4gICAgICBjb25zdCBjb29yZHMgPSB7eDogK2Nvb3Jkc0FycmF5WzBdLCB5OiArY29vcmRzQXJyYXlbMV19O1xuICAgICAgR2FtZUNvbnRyb2xsZXIuZmlyZUF0dGFjayhjb29yZHMpO1xuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgcmVuZGVyR2FtZWJvYXJkID0gKHBsYXllciwgYm9hcmQpID0+IHtcbiAgICBjb25zdCAkYm9hcmQgPSBwbGF5ZXIgPT09ICdQMScgPyAkcDFHYW1lYm9hcmQgOiAkcDJHYW1lYm9hcmQ7XG4gICAgYm9hcmQuZm9yRWFjaChjZWxsID0+ICRib2FyZC5hcHBlbmRDaGlsZChuZXdDZWxsRE9NKGNlbGwpKSk7XG4gIH1cblxuICBjb25zdCBpbml0ID0gKCkgPT4ge1xuICAgIHJlbmRlckdhbWVib2FyZCgpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpbml0LFxuICAgIHJlbmRlckdhbWVib2FyZCxcbiAgfTtcblxufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgVUk7IiwiaW1wb3J0IFBsYXllciBmcm9tIFwiLi4vRmFjdG9yaWVzL1BsYXllclwiXG5pbXBvcnQgU2hpcCBmcm9tIFwiLi4vRmFjdG9yaWVzL1NoaXBcIjtcbmltcG9ydCBVSSBmcm9tIFwiLi9VSVwiO1xuXG5jb25zdCBHYW1lQ29udHJvbGxlciA9ICgoKSA9PiB7XG5cbiAgY29uc3QgcGxheWVyMSA9IFBsYXllcigncDEnKTtcbiAgY29uc3QgcGxheWVyMiA9IFBsYXllcigncDInKTtcblxuICBjb25zdCBhY3RpdmVQbGF5ZXIgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHBsYXllcjEuaXNBY3RpdmUgPyBwbGF5ZXIxOiBwbGF5ZXIyO1xuICB9XG5cbiAgY29uc3QgaW5pdFBsYXllcjEgPSAoKSA9PiB7XG4gICAgcGxheWVyMS5pc0FjdGl2ZSA9IHRydWU7XG4gICAgbGV0IHNoaXBzID0gW1NoaXAoNCwgJ2EnKSwgU2hpcCgyLCAnYicpXTtcbiAgICBwbGF5ZXIxLmdhbWVib2FyZC5zZXRTaGlwKHNoaXBzWzBdLCB7eDogMSwgeTogMn0sICd4Jyk7XG4gICAgcGxheWVyMS5nYW1lYm9hcmQuc2V0U2hpcChzaGlwc1sxXSwge3g6IDIsIHk6IDV9LCAneScpO1xuICAgIFVJLnJlbmRlckdhbWVib2FyZCgnUDEnLCBwbGF5ZXIxLmdhbWVib2FyZC5nZXRCb2FyZCgpKTtcbiAgfVxuXG4gIGNvbnN0IGluaXRQbGF5ZXIyID0gKCkgPT4ge1xuICAgIHBsYXllcjIuc2hpcHMgPSBbU2hpcCgzLCAnYScpLCBTaGlwKDIsICdiJyldO1xuICAgIHBsYXllcjIuZ2FtZWJvYXJkLnNldFNoaXAocGxheWVyMi5zaGlwc1swXSwge3g6IDEsIHk6IDF9LCAneCcpO1xuICAgIHBsYXllcjIuZ2FtZWJvYXJkLnNldFNoaXAocGxheWVyMi5zaGlwc1sxXSwge3g6IDIsIHk6IDV9LCAneScpO1xuICAgIFVJLnJlbmRlckdhbWVib2FyZCgnUDInLCBwbGF5ZXIyLmdhbWVib2FyZC5nZXRCb2FyZCgpKTtcbiAgfVxuXG4gIGNvbnN0IGZpcmVBdHRhY2sgPSAoY29vcmRzKSA9PiB7XG4gICAgYWN0aXZlUGxheWVyKCkuZ2FtZWJvYXJkLnJlY2VpdmVBdHRhY2soY29vcmRzKTtcbiAgfVxuXG4gIGNvbnN0IHBsYXlSb3VuZCA9ICgpID0+IHtcblxuICB9XG5cbiAgY29uc3QgcGxheUdhbWUgPSAoKSA9PiB7XG4gICAgcGxheVJvdW5kKCk7XG4gIH1cblxuICBjb25zdCBpbml0ID0gKCkgPT4ge1xuICAgIGluaXRQbGF5ZXIxKCk7XG4gICAgaW5pdFBsYXllcjIoKTtcbiAgICBwbGF5R2FtZSgpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgaW5pdCxcbiAgICBmaXJlQXR0YWNrLFxuICB9O1xuXG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBHYW1lQ29udHJvbGxlcjsiLCJpbXBvcnQgR2FtZUNvbnRyb2xsZXIgZnJvbSBcIi4vTW9kdWxlcy9HYW1lQ29udHJvbGxlclwiO1xuXG5HYW1lQ29udHJvbGxlci5pbml0KCk7Il0sIm5hbWVzIjpbInNpemUiLCJzaGlwcyIsImJvYXJkIiwiYXJyIiwiaSIsInB1c2giLCJjb29yZHMiLCJ4IiwieSIsIk1hdGgiLCJmbG9vciIsImhhc1NoaXAiLCJpc1Nob3QiLCJfbWFrZUdyaWQiLCJhdCIsInJlY2VpdmVBdHRhY2siLCJjZWxsIiwiZmluZCIsInNoaXAiLCJuYW1lIiwiaGl0Iiwic2V0U2hpcCIsImF4aXMiLCJuZXdDb29yZHMiLCJnZXRMZW5ndGgiLCJnZXRCb2FyZCIsImdhbWVib2FyZCIsImlzQWN0aXZlIiwibGVuZ3RoIiwic2hpcExlbmd0aCIsImhpdENvdW50IiwiZ2V0SGl0cyIsImlzU3VuayIsIiRwMUdhbWVib2FyZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIiRwMkdhbWVib2FyZCIsInJlbmRlckdhbWVib2FyZCIsInBsYXllciIsIiRib2FyZCIsImZvckVhY2giLCJhcHBlbmRDaGlsZCIsIiRjZWxsIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInNldEF0dHJpYnV0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb29yZHNBcnJheSIsImdldEF0dHJpYnV0ZSIsInNwbGl0IiwiYWRkQ2VsbExpc3RlbmVyIiwibmV3Q2VsbERPTSIsImluaXQiLCJwbGF5ZXIxIiwicGxheWVyMiIsImluaXRQbGF5ZXIxIiwiZmlyZUF0dGFjayJdLCJzb3VyY2VSb290IjoiIn0=